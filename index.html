<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSA - Community Sports & Arts | Elementary School Programs</title>
<meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://www.gstatic.com https://cdnjs.cloudflare.com https://apis.google.com https://accounts.google.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' data: blob: https:; media-src 'self' blob: https:; connect-src 'self' blob: https://www.gstatic.com https://*.firebaseio.com https://*.googleapis.com https://identitytoolkit.googleapis.com https://securetoken.googleapis.com https://firebasestorage.googleapis.com https://apis.google.com; frame-src 'self' https://accounts.google.com; worker-src 'self' blob:;">
        <meta name="description" content="Professional sports and music programs for elementary schools. Expert instruction in athletics, dance, choir, and percussion.">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="icon" type="image/png" href="/images/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="/images/favicon.svg" />
    <link rel="shortcut icon" href="/images/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png" />
    <meta name="apple-mobile-web-app-title" content="CSA" />
    <link rel="manifest" href="/images/site.webmanifest" />
    <script>
(function() {
    'use strict';
    
    // Immediate scroll to top - prevents scroll restoration
    window.scrollTo(0, 0);
    
    // Safely set scrollTop properties
    if (document.documentElement) {
        document.documentElement.scrollTop = 0;
    }
    
    // Wait for body to exist before setting its scrollTop
    function setBodyScrollTop() {
        if (document.body) {
            document.body.scrollTop = 0;
        } else {
            // If body doesn't exist yet, wait a bit and try again
            setTimeout(setBodyScrollTop, 10);
        }
    }
    
    setBodyScrollTop();
    
    // Handle browser back/forward and reload
    window.addEventListener('pageshow', function(event) {
        window.scrollTo(0, 0);
        if (document.documentElement) {
            document.documentElement.scrollTop = 0;
        }
        if (document.body) {
            document.body.scrollTop = 0;
        }
    });
    
    // Override scroll restoration
    if ('scrollRestoration' in history) {
        history.scrollRestoration = 'manual';
    }
    
})();
</script>
    <!-- Styles -->
    <link rel="stylesheet" href="./styles.css">
</head>
<body>
    <body>
<script>
// iOS Viewport Height Fix - Must run immediately
(function() {
    function setVH() {
        const vh = window.innerHeight * 0.01;
        document.documentElement.style.setProperty('--vh', vh + 'px');
    }
    setVH();
    window.addEventListener('resize', setVH);
    window.addEventListener('orientationchange', function() {
        setTimeout(setVH, 100);
    });
})();
</script>
   <!-- Loading Screen -->
   <!-- Loading Screen -->
<div class="loader" id="loader">
    <div class="loader-hero-logo" id="loaderHeroLogo">
        <!-- Multi-Color Progress Ring with Overflow Effects -->
        <div class="progress-container">
            <svg class="progress-ring" width="360" height="360" viewBox="0 0 360 360">
                <defs>
                    <linearGradient id="exactColors" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#B0202A"/>
                        <stop offset="20%" style="stop-color:#813F96"/>
                        <stop offset="40%" style="stop-color:#3BB44B"/>
                        <stop offset="60%" style="stop-color:#FFB70B"/>
                        <stop offset="80%" style="stop-color:#C9592B"/>
                        <stop offset="100%" style="stop-color:#0C78B9"/>
                    </linearGradient>
                    <filter id="overflowGlow" x="-50%" y="-50%" width="200%" height="200%">
                        <feGaussianBlur stdDeviation="8" result="coloredBlur"/>
                        <feGaussianBlur stdDeviation="15" result="bigBlur"/>
                        <feGaussianBlur stdDeviation="25" result="hugeBlur"/>
                        <feMerge>
                            <feMergeNode in="hugeBlur"/>
                            <feMergeNode in="bigBlur"/>
                            <feMergeNode in="coloredBlur"/>
                            <feMergeNode in="SourceGraphic"/>
                        </feMerge>
                    </filter>
                    <filter id="whiteEmissive" x="-100%" y="-100%" width="300%" height="300%">
                        <feGaussianBlur stdDeviation="12" result="whiteBlur1"/>
                        <feGaussianBlur stdDeviation="25" result="whiteBlur2"/>
                        <feGaussianBlur stdDeviation="40" result="whiteBlur3"/>
                        <feMerge>
                            <feMergeNode in="whiteBlur3"/>
                            <feMergeNode in="whiteBlur2"/>
                            <feMergeNode in="whiteBlur1"/>
                            <feMergeNode in="SourceGraphic"/>
                        </feMerge>
                    </filter>
                </defs>
                <circle class="progress-track" 
                        cx="180" cy="180" r="150"
                        fill="none"
                        stroke="rgba(255,255,255,0.05)"
                        stroke-width="2"/>
                <circle class="progress-bar" 
                        cx="180" cy="180" r="150"
                        fill="none"
                        stroke="url(#exactColors)"
                        stroke-width="5"
                        stroke-linecap="round"
                        filter="url(#overflowGlow)"/>
            </svg>
        </div>
        
        <!-- Logo Container -->
        <div class="logo-container">
            <img src="./images/logo.png" alt="CSA Logo" class="loader-logo-image">
            <div class="loader-logo-fallback">CSA</div>
        </div>
        
        <!-- Company Name Text -->
    </div>
</div>
    <!-- Header -->
<header class="header" id="header">
    <nav class="nav">        
        <ul class="nav-menu" id="navMenu">
    <li class="nav-item">
        <a href="#home" class="nav-link">Home</a>
    </li>
    <li class="nav-item">
        <a href="#programs" class="nav-link">Programs</a>
    </li>
    <li class="nav-item">
        <a href="#about" class="nav-link">About</a>
    </li>
    <li class="nav-item">
        <a href="#gallery" class="nav-link">Gallery</a>
    </li>
    <li class="nav-item">
        <a href="#testimonials" class="nav-link">Testimonials</a>
    </li>
    <li class="nav-item">
        <a href="#contact" class="nav-link">Contact</a>
    </li>
    <li class="nav-item">
    <a href="#careers" class="nav-link" id="careersBtn">Careers</a>
</li>
</ul>
        
        <div class="nav-right">
            <div class="nav-auth-section">
                <!-- Authentication buttons -->
                <div class="auth-buttons" id="authButtons">
                    <button class="btn btn-auth" id="loginBtn">Login</button>
                </div>
                <div class="user-info hidden" id="userInfo">
                    <span class="user-name" id="userName"></span>
                    <button class="btn btn-secondary" id="logoutBtn">Logout</button>
                </div>
            </div>
            
            <button class="nav-toggle" id="navToggle">
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
            </button>
        </div>
    </nav>
</header>
<!-- ============================================ -->
<!-- AUDIO PLAYER SIDEBAR                         -->
<!-- ============================================ -->

<!-- Floating Player Trigger -->
<button class="player-trigger" id="playerTrigger" aria-label="Open Audio Player">
    <svg viewBox="0 0 24 24">
        <path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"/>
    </svg>
</button>

<!-- Player Overlay -->
<div class="player-overlay" id="playerOverlay"></div>

<!-- Audio Player Sidebar -->
<aside class="audio-player-sidebar" id="audioPlayerSidebar">
    <!-- Header -->
    <header class="player-header">
    <div class="player-logo">
        <div class="player-logo-icon">
            <img src="images/logo.png" alt="CSA Logo">
        </div>
        <span class="player-logo-text" data-text="Live Student Recordings">Live Student Recordings</span>
    </div>
    <button class="player-close" id="playerClose" aria-label="Close Player">
        <svg viewBox="0 0 24 24" fill="none">
            <path d="M18 6L6 18M6 6l12 12" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
    </button>
</header>

    <!-- Now Playing -->
    <section class="now-playing">
        <div class="album-art-container">
            <img class="album-art" src="./images/programs/1.jpg" alt="Album Art">
            <div class="vinyl-overlay"></div>
            <div class="waveform-overlay" id="waveformOverlay"></div>
        </div>
        <div class="track-info">
            <h2 class="track-title" id="trackTitle">Summer Percussion Ensemble</h2>
            <p class="track-artist"><a href="#">CSA Music Program</a></p>
        </div>
    </section>

    <!-- Progress Bar -->
    <section class="progress-section player-progress">
        <div class="progress-container" id="audioProgressContainer">
            <div class="progress-bar" id="audioProgressBar"></div>
        </div>
        <div class="time-display">
            <span id="audioCurrentTime">0:00</span>
            <span id="audioTotalTime">4:05</span>
        </div>
    </section>

    <!-- Playback Controls -->
<section class="controls-section">
    <button class="control-btn skip" id="audioPrevBtn" title="Previous">
        <svg viewBox="0 0 24 24">
            <path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"/>
        </svg>
    </button>
    <button class="control-btn play-pause" id="audioPlayPauseBtn" title="Play/Pause">
        <svg class="play-icon" viewBox="0 0 24 24">
            <path d="M8 5v14l11-7z"/>
        </svg>
        <svg class="pause-icon" viewBox="0 0 24 24">
            <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/>
        </svg>
    </button>
    <button class="control-btn skip" id="audioNextBtn" title="Next">
        <svg viewBox="0 0 24 24">
            <path d="M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"/>
        </svg>
    </button>
</section>

    <!-- Volume Control -->
    <section class="volume-section">
        <button class="volume-btn" id="audioVolumeBtn" title="Mute">
            <svg viewBox="0 0 24 24" id="audioVolumeIcon">
                <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>
            </svg>
        </button>
        <input type="range" class="volume-slider" id="audioVolumeSlider" min="0" max="100" value="75">
    </section>

      <!-- Playlist/Queue -->
    <section class="playlist-section audio-playlist">
        <header class="playlist-header">
            <span class="playlist-title">Up Next</span>
            <span class="queue-count">8 tracks</span>
        </header>
        <div class="playlist-items" id="audioPlaylistItems"></div>
    </section>

    <!-- Keyboard Hints -->
    <footer class="keyboard-hints">
        <div class="key-hint"><span class="key">Space</span> Play/Pause</div>
        <div class="key-hint"><span class="key">‚Üê</span><span class="key">‚Üí</span> Seek</div>
        <div class="key-hint"><span class="key">‚Üë</span><span class="key">‚Üì</span> Volume</div>
    </footer>
</aside>
<!-- END AUDIO PLAYER SIDEBAR -->
<section class="hero" id="home">
    <div class="hero-background">
        <div class="video-container" id="videoContainer">
            <!-- Videos will be dynamically loaded here -->
        </div>
        <div class="hero-overlay"></div>
    </div>
   <!-- Logo Loop Animation -->
<div class="logo-loop-container">
    <div class="logo-loop-track">
        <!-- SET 1 -->
        <div class="logo-loop-item">
            <img src="/images/icons/FUSD.png" alt="FUSD">
        </div>
        <div class="logo-loop-item">
            <img src="/images/icons/CUSD.png" alt="CUSD">
        </div>
        <div class="logo-loop-item">
            <img src="/images/icons/SUSD.png" alt="SUSD">
        </div>
        <div class="logo-loop-item">
            <img src="/images/icons/KCUSD.png" alt="KCUSD">
        </div>
        <div class="logo-loop-item">
            <img src="/images/icons/COHUSD.png" alt="COHUSD">
        </div>
        <div class="logo-loop-item">
            <img src="/images/icons/CSUF.png" alt="CSUF">
        </div>
        <div class="logo-loop-item">
            <img src="/images/icons/CTFF.png" alt="CTFF">
        </div>
        <div class="logo-loop-item">
            <img src="/images/icons/FG.jpg" alt="FG">
        </div>
        <div class="logo-loop-item">
            <img src="/images/icons/Cuckpark.png" alt="Cuckpark">
        </div>
        <div class="logo-loop-item">
            <img src="/images/icons/crosscity.png" alt="Cross City">
        </div>
        <div class="logo-loop-item">
            <img src="/images/icons/bethanychurch.png" alt="Bethany Church">
        </div>
        
        <!-- SET 2 (Duplicate) -->
        <div class="logo-loop-item">
            <img src="/images/icons/FUSD.png" alt="FUSD">
        </div>
        <div class="logo-loop-item">
            <img src="/images/icons/CUSD.png" alt="CUSD">
        </div>
        <div class="logo-loop-item">
            <img src="/images/icons/SUSD.png" alt="SUSD">
        </div>
        <div class="logo-loop-item">
            <img src="/images/icons/KCUSD.png" alt="KCUSD">
        </div>
        <div class="logo-loop-item">
            <img src="/images/icons/COHUSD.png" alt="COHUSD">
        </div>
        <div class="logo-loop-item">
            <img src="/images/icons/CSUF.png" alt="CSUF">
        </div>
        <div class="logo-loop-item">
            <img src="/images/icons/CTFF.png" alt="CTFF">
        </div>
        <div class="logo-loop-item">
            <img src="/images/icons/FG.jpg" alt="FG">
        </div>
        <div class="logo-loop-item">
            <img src="/images/icons/Cuckpark.png" alt="Cuckpark">
        </div>
        <div class="logo-loop-item">
            <img src="/images/icons/crosscity.png" alt="Cross City">
        </div>
        <div class="logo-loop-item">
            <img src="/images/icons/bethanychurch.png" alt="Bethany Church">
        </div>
        
        <!-- SET 3 (Duplicate) -->
        <div class="logo-loop-item">
            <img src="/images/icons/FUSD.png" alt="FUSD">
        </div>
        <div class="logo-loop-item">
            <img src="/images/icons/CUSD.png" alt="CUSD">
        </div>
        <div class="logo-loop-item">
            <img src="/images/icons/SUSD.png" alt="SUSD">
        </div>
        <div class="logo-loop-item">
            <img src="/images/icons/KCUSD.png" alt="KCUSD">
        </div>
        <div class="logo-loop-item">
            <img src="/images/icons/COHUSD.png" alt="COHUSD">
        </div>
        <div class="logo-loop-item">
            <img src="/images/icons/CSUF.png" alt="CSUF">
        </div>
        <div class="logo-loop-item">
            <img src="/images/icons/CTFF.png" alt="CTFF">
        </div>
        <div class="logo-loop-item">
            <img src="/images/icons/FG.jpg" alt="FG">
        </div>
        <div class="logo-loop-item">
            <img src="/images/icons/Cuckpark.png" alt="Cuckpark">
        </div>
        <div class="logo-loop-item">
            <img src="/images/icons/crosscity.png" alt="Cross City">
        </div>
        <div class="logo-loop-item">
            <img src="/images/icons/bethanychurch.png" alt="Bethany Church">
        </div>
        
        <!-- SET 4 (Duplicate) -->
        <div class="logo-loop-item">
            <img src="/images/icons/FUSD.png" alt="FUSD">
        </div>
        <div class="logo-loop-item">
            <img src="/images/icons/CUSD.png" alt="CUSD">
        </div>
        <div class="logo-loop-item">
            <img src="/images/icons/SUSD.png" alt="SUSD">
        </div>
        <div class="logo-loop-item">
            <img src="/images/icons/KCUSD.png" alt="KCUSD">
        </div>
        <div class="logo-loop-item">
            <img src="/images/icons/COHUSD.png" alt="COHUSD">
        </div>
        <div class="logo-loop-item">
            <img src="/images/icons/CSUF.png" alt="CSUF">
        </div>
        <div class="logo-loop-item">
            <img src="/images/icons/CTFF.png" alt="CTFF">
        </div>
        <div class="logo-loop-item">
            <img src="/images/icons/FG.jpg" alt="FG">
        </div>
        <div class="logo-loop-item">
            <img src="/images/icons/Cuckpark.png" alt="Cuckpark">
        </div>
        <div class="logo-loop-item">
            <img src="/images/icons/crosscity.png" alt="Cross City">
        </div>
        <div class="logo-loop-item">
            <img src="/images/icons/bethanychurch.png" alt="Bethany Church">
        </div>
    </div>
</div>
   <div id="lanyard-mount" class="lanyard-mount"></div>

   
    <!-- Optional: Video indicators -->
    <div class="video-controls" id="videoControls">
        <!-- Indicators will be dynamically created -->
    </div>
    
    <div class="scroll-indicator">
    <div class="scroll-arrow-wrapper">
        <div class="scroll-arrow"></div>
    </div>
</div>
</section>

  <!-- Programs Section with Filtering -->
<section class="programs" id="programs">
    <div class="container">
        <div class="section-header">
            <h2 class="section-title">Our Programs</h2>
            <p class="section-subtitle">Comprehensive curricula designed specifically for elementary schools</p>
        </div>
        
        <!-- Program Filters -->
        <div class="program-filters">
            <!-- Category Tabs -->
            <div class="filter-section">
                <div class="category-tabs">
                    <button class="category-tab active" data-category="all">All Programs</button>
                    <button class="category-tab" data-category="afterschool">After School</button>
                    <button class="category-tab" data-category="winter-camps">Winter Camps</button>
                    <button class="category-tab" data-category="summer-camps">Summer Camps</button>
                    <button class="category-tab" data-category="concerts">Concerts</button>
                </div>
            </div>

            <!-- Specialization Filter -->
            <div class="filter-section">
                <div class="specialization-pills">
                    <button class="spec-pill active" data-subcategory="all">All Types</button>
                    <button class="spec-pill" data-subcategory="guitar-strings">Guitar Programs</button>
                    <button class="spec-pill" data-subcategory="percussion">Percussion</button>
                    <button class="spec-pill" data-subcategory="vocal">Vocal</button>
                    <button class="spec-pill" data-subcategory="dance">Dance</button>
                    <button class="spec-pill" data-subcategory="sports">Sports</button>
                    <button class="spec-pill" data-subcategory="podcasting">Podcasting</button>
                    <button class="spec-pill" data-subcategory="dj-production">DJ & Production</button>
                    <button class="spec-pill" data-subcategory="keyboard">Keyboard & Piano</button>
                </div>
            </div>
<!-- Results Info with Professional Scroll Controls -->
<div class="filter-results">
    <div class="results-container">
        <div class="results-info">
            <span id="programCount">9</span> result(s)
        </div>
        <button class="clear-all" id="clearFilters" style="display: none;">Clear Filters</button>
    </div>
    
    <div class="scroll-controls" id="scrollControls">
        <button class="scroll-btn left" id="scrollLeft" title="Scroll Left">
            <img src="/images/icons/leftarrow.png" alt="Left Arrow" class="scroll-arrow">
        </button>
        <button class="scroll-btn right" id="scrollRight" title="Scroll Right">
            <img src="/images/icons/rightarrow.png" alt="Right Arrow" class="scroll-arrow">
        </button>
    </div>
</div>
        <div class="programs-grid" id="programsGrid">
            <div class="program-card" data-category="afterschool,winter-camps,summer-camps" data-subcategory="sports">
                <div class="program-image">
                    <img src="/images/programs/1.jpg" alt="Sports Program" loading="lazy">
                    <div class="program-overlay">
                        <div class="program-icon">‚öΩ</div>
                    </div>
                </div>
                <div class="program-content">
                    <h3 class="program-title">Sports Programs</h3>
                    <p class="program-description">Comprehensive athletic development focusing on fundamental movement skills, teamwork, and physical fitness for all ability levels.</p>
                    <ul class="program-features">
                        <li>Age-appropriate skill development</li>
                        <li>Team building activities</li>
                        <li>Fitness and coordination</li>
                        <li>Inclusive participation</li>
                    </ul>
                </div>
            </div>
            
            <div class="program-card" data-category="afterschool,winter-camps,summer-camps" data-subcategory="guitar-strings">
                <div class="program-image">
                    <img src="/images/programs/1.jpg" alt="Guitar Programs" loading="lazy">
                    <div class="program-overlay">
                        <div class="program-icon">üé∏</div>
                    </div>
                </div>
                <div class="program-content">
                    <h3 class="program-title">Guitar Programs</h3>
                    <p class="program-description">Comprehensive guitar instruction covering acoustic, electric, and bass guitar, from foundational techniques to advanced performance skills across all styles.</p>
                    <ul class="program-features">
                        <li>Acoustic: Fingerpicking & strumming techniques</li>
                        <li>Electric: Power chords, riffs & amplifier techniques</li>
                        <li>Bass: Rhythm, groove & ensemble playing</li>
                        <li>Music theory & performance preparation</li>
                    </ul>
                </div>
            </div>
            
            <div class="program-card" data-category="afterschool,winter-camps,summer-camps,concerts" data-subcategory="dance">
                <div class="program-image">
                    <img src="/images/programs/2.jpg" alt="Dance Program" loading="lazy">
                    <div class="program-overlay">
                        <div class="program-icon">üíÉ</div>
                    </div>
                </div>
                <div class="program-content">
                    <h3 class="program-title">Dance Programs</h3>
                    <p class="program-description">Creative movement and dance instruction that develops coordination, rhythm, self-expression, and cultural awareness.</p>
                    <ul class="program-features">
                        <li>Multiple dance styles</li>
                        <li>Creative expression</li>
                        <li>Coordination development</li>
                        <li>Performance opportunities</li>
                    </ul>
                </div>
            </div>
            
            <div class="program-card" data-category="afterschool,winter-camps,summer-camps,concerts" data-subcategory="vocal">
                <div class="program-image">
                    <img src="/images/programs/1.jpg" alt="Choir Program" loading="lazy">
                    <div class="program-overlay">
                        <div class="program-icon">üéµ</div>
                    </div>
                </div>
                <div class="program-content">
                    <h3 class="program-title">Choir Programs</h3>
                    <p class="program-description">Professional vocal instruction that builds confidence, musical literacy, and ensemble skills through engaging repertoire.</p>
                    <ul class="program-features">
                        <li>Vocal technique training</li>
                        <li>Music theory basics</li>
                        <li>Ensemble singing</li>
                        <li>Concert performances</li>
                    </ul>
                </div>
            </div>
            
            <div class="program-card" data-category="afterschool,winter-camps,summer-camps,concerts" data-subcategory="percussion">
                <div class="program-image">
                    <img src="/images/programs/2.jpg" alt="Percussion Program" loading="lazy">
                    <div class="program-overlay">
                        <div class="program-icon">ü•Å</div>
                    </div>
                </div>
                <div class="program-content">
                    <h3 class="program-title">Percussion Programs</h3>
                    <p class="program-description">Dynamic rhythm instruction using professional instruments to develop timing, coordination, and ensemble skills.</p>
                    <ul class="program-features">
                        <li>Rhythm and timing</li>
                        <li>Instrument technique</li>
                        <li>Ensemble performance</li>
                        <li>Cultural exploration</li>
                    </ul>
                </div>
            </div>
            
            <div class="program-card" data-category="afterschool,winter-camps,summer-camps" data-subcategory="dj-production">
                <div class="program-image">
                    <img src="/images/programs/2.jpg" alt="DJ Introduction Program" loading="lazy">
                    <div class="program-overlay">
                        <div class="program-icon">üéß</div>
                    </div>
                </div>
                <div class="program-content">
                    <h3 class="program-title">DJ Introduction</h3>
                    <p class="program-description">Introduction to modern music production and DJ skills, teaching beat matching, mixing techniques, and digital music technology.</p>
                    <ul class="program-features">
                        <li>Beat matching basics</li>
                        <li>Digital music software</li>
                        <li>Mixing techniques</li>
                        <li>Music appreciation</li>
                    </ul>
                </div>
            </div>
            
            <div class="program-card" data-category="afterschool,winter-camps,summer-camps" data-subcategory="keyboard">
                <div class="program-image">
                    <img src="/images/programs/2.jpg" alt="Keyboard Program" loading="lazy">
                    <div class="program-overlay">
                        <div class="program-icon">üéπ</div>
                    </div>
                </div>
                <div class="program-content">
                    <h3 class="program-title">Keyboard & Piano</h3>
                    <p class="program-description">Foundation piano and keyboard skills development, including proper technique, music theory, and creative composition.</p>
                    <ul class="program-features">
                        <li>Proper hand positioning</li>
                        <li>Scale and chord work</li>
                        <li>Music composition</li>
                        <li>Performance preparation</li>
                    </ul>
                </div>
            </div>

            <!-- New Podcasting Program -->
            <div class="program-card" data-category="afterschool,winter-camps,summer-camps" data-subcategory="podcasting">
                <div class="program-image">
                    <img src="/images/programs/1.jpg" alt="Podcasting Program" loading="lazy">
                    <div class="program-overlay">
                        <div class="program-icon">üéôÔ∏è</div>
                    </div>
                </div>
                <div class="program-content">
                    <h3 class="program-title">Podcasting & Media</h3>
                    <p class="program-description">Learn the art of storytelling through digital media, developing communication skills, audio production, and content creation.</p>
                    <ul class="program-features">
                        <li>Storytelling techniques</li>
                        <li>Audio recording & editing</li>
                        <li>Interview skills</li>
                        <li>Digital publishing</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</section>
  <!-- About/Stats Section -->
<section class="about" id="about">
    <div class="container">
        <div class="section-header">
            <h2>The CSA Way!</h2>
            <p class="section-subtitle">We've taken the initiative to empower the youth through music & sports. </p>
        </div>
        
        <div class="about-content">
            <div class="about-text">
                <div class="about-features">
                    <div class="feature-item">
                        <div class="feature-icon">‚úì</div>
                        <div class="feature-text">
                            <h4>Expert Instructors</h4>
                            <p>Certified professionals with music and education experience</p>
                        </div>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">‚úì</div>
                        <div class="feature-text">
                            <h4>Proven Curriculum</h4>
                            <p>Evidence-based programs aligned with educational standards</p>
                        </div>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">‚úì</div>
                        <div class="feature-text">
                            <h4>Full Support</h4>
                            <p>Complete implementation and ongoing program management</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="stats-grid">
                <div class="stat-item">
                    <div class="stat-number" data-count="6452">0</div>
                    <div class="stat-label">Students Served</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" data-count="14">0</div>
                    <div class="stat-label">District Partners</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" data-count="6">0</div>
                    <div class="stat-label">Years Operated</div>
                </div>

                <div class="stat-item">
                    <div class="stat-number" data-count="150">0</div>
                    <div class="stat-label">Camp Days</div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Updated Gallery Section - Minimal Changes, Keep Existing Styles -->
<section class="gallery" id="gallery">
    <div class="container">
        <div class="section-header">
            <h2>Photo Gallery</h2>
            <p class="section-subtitle">Capturing the magical moments and milestones of our young performers as they shine on stage and grow in confidence.</p>
        </div>
        
       <!-- Authentication Required Message -->
<div class="auth-required" id="authRequired">
    <div class="auth-card">
        <div class="auth-notification">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M8 7V9M8 11H8.01M14 8C14 11.3137 11.3137 14 8 14C4.68629 14 2 11.3137 2 8C2 4.68629 4.68629 2 8 2C11.3137 2 14 4.68629 14 8Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span>Ask your school district for log in credentials</span>
        </div>
        <div class="auth-icon">üîí</div>
        <h3>Parent Gallery Portal</h3>
        <button class="btn btn-primary" id="galleryLoginBtn">Sign In to View Gallery</button>
    </div>
</div>
            
        <!-- Gallery Content (Hidden by default) -->
        <div class="gallery-content hidden" id="galleryContent">
            <!-- Gallery Filters - UPDATED with new options -->
            <div class="gallery-filters">
                <!-- Program Type Filter (NEW) -->
                <div class="filter-group">
                    <label for="categoryFilter">Program Type:</label>
                    <select id="categoryFilter" class="filter-select">
                        <option value="all">All Programs</option>
                        <option value="afterschool">After School</option>
                        <option value="winter-camps">Winter Camps</option>
                        <option value="summer-camps">Summer Camps</option>
                        <option value="concerts">Concerts</option>
                    </select>
                </div>
                
                <!-- Specialization Filter (UPDATED with all program types) -->
                <div class="filter-group">
                    <label for="programFilter">Specialization:</label>
                    <select id="programFilter" class="filter-select">
                        <option value="all">All Specializations</option>
                        <option value="sports">Sports</option>
                        <option value="guitar-strings">Guitar Programs</option>
                        <option value="dance">Dance</option>
                        <option value="vocal">Vocal/Choir</option>
                        <option value="percussion">Percussion</option>
                        <option value="dj-production">DJ & Production</option>
                        <option value="keyboard">Keyboard & Piano</option>
                        <option value="podcasting">Podcasting</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <label for="locationFilter">Location:</label>
                    <select id="locationFilter" class="filter-select">
                        <option value="all">All Locations</option>
                        <option value="oakwood">Oakwood Elementary</option>
                        <option value="riverside">Riverside School</option>
                        <option value="maple-grove">Maple Grove Academy</option>
                        <option value="sunset">Sunset Elementary</option>
                        <option value="cedar-hills">Cedar Hills School</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <label for="dateFilter">Date:</label>
                    <select id="dateFilter" class="filter-select">
                        <option value="all">All Dates</option>
                        <option value="2024-fall">Fall 2024</option>
                        <option value="2024-summer">Summer 2024</option>
                        <option value="2024-spring">Spring 2024</option>
                        <option value="2023-fall">Fall 2023</option>
                    </select>
                </div>
                
                <button class="filter-reset" id="filterReset">Reset Filters</button>
            </div>
            
            <!-- Gallery Grid - COMPLETE with proper filtering attributes -->
<div class="gallery-grid" id="galleryGrid">
    <!-- Sports Program Photos -->
    <div class="gallery-item" data-category="afterschool,winter-camps,summer-camps" data-subcategory="sports" data-location="oakwood" data-date="2024-fall">
        <img src="./images/gallery/5.jpg" alt="Sports Program at Oakwood Elementary" loading="lazy">
        <div class="gallery-overlay">
            <div class="gallery-info">
                <h4>Sports Program</h4>
                <p>Oakwood Elementary ‚Ä¢ Fall 2024</p>
            </div>
        </div>
    </div>
    
    <div class="gallery-item" data-category="afterschool,winter-camps,summer-camps" data-subcategory="sports" data-location="riverside" data-date="2024-summer">
        <img src="./images/gallery/6.jpg" alt="Sports Program at Riverside School" loading="lazy">
        <div class="gallery-overlay">
            <div class="gallery-info">
                <h4>Sports Program</h4>
                <p>Riverside School ‚Ä¢ Summer 2024</p>
            </div>
        </div>
    </div>
    
    <div class="gallery-item" data-category="afterschool,winter-camps,summer-camps" data-subcategory="sports" data-location="maple-grove" data-date="2024-spring">
        <img src="./images/gallery/sports-maple-spring2024-1.jpg" alt="Sports Program at Maple Grove" loading="lazy">
        <div class="gallery-overlay">
            <div class="gallery-info">
                <h4>Sports Program</h4>
                <p>Maple Grove Academy ‚Ä¢ Spring 2024</p>
            </div>
        </div>
    </div>
    
    <div class="gallery-item" data-category="afterschool,winter-camps,summer-camps" data-subcategory="sports" data-location="sunset" data-date="2024-summer">
        <img src="./images/gallery/sports-sunset-summer2024-2.jpg" alt="Sports Program at Sunset Elementary" loading="lazy">
        <div class="gallery-overlay">
            <div class="gallery-info">
                <h4>Sports Program</h4>
                <p>Sunset Elementary ‚Ä¢ Summer 2024</p>
            </div>
        </div>
    </div>
    
    <!-- Guitar Programs -->
    <div class="gallery-item" data-category="afterschool,winter-camps,summer-camps,concerts" data-subcategory="guitar-strings" data-location="oakwood" data-date="2024-fall">
        <img src="./images/gallery/guitar-oakwood-fall2024-1.jpg" alt="Guitar Program at Oakwood Elementary" loading="lazy">
        <div class="gallery-overlay">
            <div class="gallery-info">
                <h4>Guitar Program</h4>
                <p>Oakwood Elementary ‚Ä¢ Fall 2024</p>
            </div>
        </div>
    </div>
    
    <div class="gallery-item" data-category="afterschool,winter-camps,summer-camps,concerts" data-subcategory="guitar-strings" data-location="riverside" data-date="2024-summer">
        <img src="./images/gallery/guitar-riverside-summer2024-1.jpg" alt="Guitar Program at Riverside School" loading="lazy">
        <div class="gallery-overlay">
            <div class="gallery-info">
                <h4>Guitar Program</h4>
                <p>Riverside School ‚Ä¢ Summer 2024</p>
            </div>
        </div>
    </div>
    
    <div class="gallery-item" data-category="afterschool,concerts" data-subcategory="guitar-strings" data-location="cedar-hills" data-date="2024-spring">
        <img src="./images/gallery/guitar-cedar-spring2024-1.jpg" alt="Guitar Program at Cedar Hills" loading="lazy">
        <div class="gallery-overlay">
            <div class="gallery-info">
                <h4>Guitar Program</h4>
                <p>Cedar Hills School ‚Ä¢ Spring 2024</p>
            </div>
        </div>
    </div>
    
    <!-- Dance Program Photos -->
    <div class="gallery-item" data-category="afterschool,winter-camps,summer-camps,concerts" data-subcategory="dance" data-location="sunset" data-date="2024-fall">
        <img src="./images/gallery/dance-sunset-fall2024-1.jpg" alt="Dance Program at Sunset Elementary" loading="lazy">
        <div class="gallery-overlay">
            <div class="gallery-info">
                <h4>Dance Program</h4>
                <p>Sunset Elementary ‚Ä¢ Fall 2024</p>
            </div>
        </div>
    </div>
    
    <div class="gallery-item" data-category="afterschool,winter-camps,summer-camps,concerts" data-subcategory="dance" data-location="cedar-hills" data-date="2024-summer">
        <img src="./images/gallery/dance-cedar-summer2024-1.jpg" alt="Dance Program at Cedar Hills" loading="lazy">
        <div class="gallery-overlay">
            <div class="gallery-info">
                <h4>Dance Program</h4>
                <p>Cedar Hills School ‚Ä¢ Summer 2024</p>
            </div>
        </div>
    </div>
    
    <div class="gallery-item" data-category="afterschool,winter-camps,summer-camps,concerts" data-subcategory="dance" data-location="oakwood" data-date="2024-spring">
        <img src="./images/gallery/dance-oakwood-spring2024-1.jpg" alt="Dance Program at Oakwood Elementary" loading="lazy">
        <div class="gallery-overlay">
            <div class="gallery-info">
                <h4>Dance Program</h4>
                <p>Oakwood Elementary ‚Ä¢ Spring 2024</p>
            </div>
        </div>
    </div>
    
    <div class="gallery-item" data-category="afterschool,winter-camps,summer-camps,concerts" data-subcategory="dance" data-location="riverside" data-date="2023-fall">
        <img src="./images/gallery/dance-riverside-fall2023-1.jpg" alt="Dance Program at Riverside School" loading="lazy">
        <div class="gallery-overlay">
            <div class="gallery-info">
                <h4>Dance Program</h4>
                <p>Riverside School ‚Ä¢ Fall 2023</p>
            </div>
        </div>
    </div>
    
    <!-- Choir/Vocal Program Photos -->
    <div class="gallery-item" data-category="afterschool,winter-camps,summer-camps,concerts" data-subcategory="vocal" data-location="riverside" data-date="2024-fall">
        <img src="./images/gallery/choir-riverside-fall2024-1.jpg" alt="Choir Program at Riverside School" loading="lazy">
        <div class="gallery-overlay">
            <div class="gallery-info">
                <h4>Choir Program</h4>
                <p>Riverside School ‚Ä¢ Fall 2024</p>
            </div>
        </div>
    </div>
    
    <div class="gallery-item" data-category="afterschool,winter-camps,summer-camps,concerts" data-subcategory="vocal" data-location="maple-grove" data-date="2024-summer">
        <img src="./images/gallery/choir-maple-summer2024-1.jpg" alt="Choir Program at Maple Grove" loading="lazy">
        <div class="gallery-overlay">
            <div class="gallery-info">
                <h4>Choir Program</h4>
                <p>Maple Grove Academy ‚Ä¢ Summer 2024</p>
            </div>
        </div>
    </div>
    
    <div class="gallery-item" data-category="afterschool,winter-camps,summer-camps,concerts" data-subcategory="vocal" data-location="sunset" data-date="2023-fall">
        <img src="./images/gallery/choir-sunset-fall2023-1.jpg" alt="Choir Program at Sunset Elementary" loading="lazy">
        <div class="gallery-overlay">
            <div class="gallery-info">
                <h4>Choir Program</h4>
                <p>Sunset Elementary ‚Ä¢ Fall 2023</p>
            </div>
        </div>
    </div>
    
    <div class="gallery-item" data-category="afterschool,winter-camps,summer-camps,concerts" data-subcategory="vocal" data-location="cedar-hills" data-date="2024-spring">
        <img src="./images/gallery/choir-cedar-spring2024-1.jpg" alt="Choir Program at Cedar Hills" loading="lazy">
        <div class="gallery-overlay">
            <div class="gallery-info">
                <h4>Choir Program</h4>
                <p>Cedar Hills School ‚Ä¢ Spring 2024</p>
            </div>
        </div>
    </div>
    
    <!-- Percussion Program Photos -->
    <div class="gallery-item" data-category="afterschool,winter-camps,summer-camps,concerts" data-subcategory="percussion" data-location="cedar-hills" data-date="2024-fall">
        <img src="./images/gallery/percussion-cedar-fall2024-1.jpg" alt="Percussion Program at Cedar Hills" loading="lazy">
        <div class="gallery-overlay">
            <div class="gallery-info">
                <h4>Percussion Program</h4>
                <p>Cedar Hills School ‚Ä¢ Fall 2024</p>
            </div>
        </div>
    </div>
    
    <div class="gallery-item" data-category="afterschool,winter-camps,summer-camps,concerts" data-subcategory="percussion" data-location="oakwood" data-date="2024-summer">
        <img src="./images/gallery/percussion-oakwood-summer2024-1.jpg" alt="Percussion Program at Oakwood Elementary" loading="lazy">
        <div class="gallery-overlay">
            <div class="gallery-info">
                <h4>Percussion Program</h4>
                <p>Oakwood Elementary ‚Ä¢ Summer 2024</p>
            </div>
        </div>
    </div>
    
    <div class="gallery-item" data-category="afterschool,winter-camps,summer-camps,concerts" data-subcategory="percussion" data-location="riverside" data-date="2024-spring">
        <img src="./images/gallery/percussion-riverside-spring2024-1.jpg" alt="Percussion Program at Riverside School" loading="lazy">
        <div class="gallery-overlay">
            <div class="gallery-info">
                <h4>Percussion Program</h4>
                <p>Riverside School ‚Ä¢ Spring 2024</p>
            </div>
        </div>
    </div>
    
    <div class="gallery-item" data-category="afterschool,winter-camps,summer-camps,concerts" data-subcategory="percussion" data-location="maple-grove" data-date="2023-fall">
        <img src="./images/gallery/percussion-maple-fall2023-1.jpg" alt="Percussion Program at Maple Grove" loading="lazy">
        <div class="gallery-overlay">
            <div class="gallery-info">
                <h4>Percussion Program</h4>
                <p>Maple Grove Academy ‚Ä¢ Fall 2023</p>
            </div>
        </div>
    </div>
    
    <!-- DJ & Production Program Photos -->
    <div class="gallery-item" data-category="afterschool,winter-camps,summer-camps,concerts" data-subcategory="dj-production" data-location="maple-grove" data-date="2024-fall">
        <img src="./images/gallery/dj-maple-fall2024-1.jpg" alt="DJ & Production Program at Maple Grove" loading="lazy">
        <div class="gallery-overlay">
            <div class="gallery-info">
                <h4>DJ & Production Program</h4>
                <p>Maple Grove Academy ‚Ä¢ Fall 2024</p>
            </div>
        </div>
    </div>
    
    <div class="gallery-item" data-category="afterschool,summer-camps,concerts" data-subcategory="dj-production" data-location="sunset" data-date="2024-summer">
        <img src="./images/gallery/dj-sunset-summer2024-1.jpg" alt="DJ & Production Program at Sunset Elementary" loading="lazy">
        <div class="gallery-overlay">
            <div class="gallery-info">
                <h4>DJ & Production Program</h4>
                <p>Sunset Elementary ‚Ä¢ Summer 2024</p>
            </div>
        </div>
    </div>
    
    <div class="gallery-item" data-category="afterschool,concerts" data-subcategory="dj-production" data-location="riverside" data-date="2024-spring">
        <img src="./images/gallery/dj-riverside-spring2024-1.jpg" alt="DJ & Production Program at Riverside School" loading="lazy">
        <div class="gallery-overlay">
            <div class="gallery-info">
                <h4>DJ & Production Program</h4>
                <p>Riverside School ‚Ä¢ Spring 2024</p>
            </div>
        </div>
    </div>
    
    <!-- Keyboard & Piano Program Photos -->
    <div class="gallery-item" data-category="afterschool,winter-camps,summer-camps,concerts" data-subcategory="keyboard" data-location="oakwood" data-date="2024-fall">
        <img src="./images/gallery/keyboard-oakwood-fall2024-1.jpg" alt="Keyboard Program at Oakwood Elementary" loading="lazy">
        <div class="gallery-overlay">
            <div class="gallery-info">
                <h4>Keyboard & Piano Program</h4>
                <p>Oakwood Elementary ‚Ä¢ Fall 2024</p>
            </div>
        </div>
    </div>
    
    <div class="gallery-item" data-category="afterschool,summer-camps,concerts" data-subcategory="keyboard" data-location="cedar-hills" data-date="2024-summer">
        <img src="./images/gallery/keyboard-cedar-summer2024-1.jpg" alt="Keyboard Program at Cedar Hills" loading="lazy">
        <div class="gallery-overlay">
            <div class="gallery-info">
                <h4>Keyboard & Piano Program</h4>
                <p>Cedar Hills School ‚Ä¢ Summer 2024</p>
            </div>
        </div>
    </div>
    
    <div class="gallery-item" data-category="afterschool,winter-camps,concerts" data-subcategory="keyboard" data-location="maple-grove" data-date="2023-fall">
        <img src="./images/gallery/keyboard-maple-fall2023-1.jpg" alt="Keyboard Program at Maple Grove" loading="lazy">
        <div class="gallery-overlay">
            <div class="gallery-info">
                <h4>Keyboard & Piano Program</h4>
                <p>Maple Grove Academy ‚Ä¢ Fall 2023</p>
            </div>
        </div>
    </div>
    
    <!-- Podcasting Program Photos -->
    <div class="gallery-item" data-category="afterschool,summer-camps" data-subcategory="podcasting" data-location="riverside" data-date="2024-fall">
        <img src="./images/gallery/podcast-riverside-fall2024-1.jpg" alt="Podcasting Program at Riverside School" loading="lazy">
        <div class="gallery-overlay">
            <div class="gallery-info">
                <h4>Podcasting Program</h4>
                <p>Riverside School ‚Ä¢ Fall 2024</p>
            </div>
        </div>
    </div>
    
    <div class="gallery-item" data-category="afterschool,summer-camps" data-subcategory="podcasting" data-location="sunset" data-date="2024-spring">
        <img src="./images/gallery/podcast-sunset-spring2024-1.jpg" alt="Podcasting Program at Sunset Elementary" loading="lazy">
        <div class="gallery-overlay">
            <div class="gallery-info">
                <h4>Podcasting Program</h4>
                <p>Sunset Elementary ‚Ä¢ Spring 2024</p>
            </div>
        </div>
    </div>
    
    <div class="gallery-item" data-category="afterschool,winter-camps,summer-camps" data-subcategory="podcasting" data-location="cedar-hills" data-date="2024-summer">
        <img src="./images/gallery/podcast-cedar-summer2024-1.jpg" alt="Podcasting Program at Cedar Hills" loading="lazy">
        <div class="gallery-overlay">
            <div class="gallery-info">
                <h4>Podcasting Program</h4>
                <p>Cedar Hills School ‚Ä¢ Summer 2024</p>
            </div>
        </div>
    </div>
</div>
            
            <!-- Gallery Stats Counter -->
            <div class="gallery-stats">
                <div class="stats-item">
                    <span class="stats-number" id="visibleCount">27</span>
                    <span class="stats-label">Visible Photos</span>
                </div>
                <div class="stats-item">
                    <span class="stats-number" id="totalCount">27</span>
                    <span class="stats-label">Total Photos</span>
                </div>
            </div>
            
        </div>
    </div>
</section>

   <!-- Login Modal -->
<div class="modal-overlay" id="loginModal">
    <div class="modal">
        <div class="modal-header">
            <div>
                <h3>Parent Gallery Portal</h3>
                <div class="modal-notification">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M8 7V9M8 11H8.01M14 8C14 11.3137 11.3137 14 8 14C4.68629 14 2 11.3137 2 8C2 4.68629 4.68629 2 8 2C11.3137 2 14 4.68629 14 8Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span>Ask your school district for log in credentials</span>
                </div>
            </div>
            <button class="modal-close" id="modalClose">&times;</button>
        </div>
        <div class="modal-body">
            <form class="login-form" id="loginForm">
                <div class="form-group">
                    <label for="loginEmail">Email Address</label>
                    <input type="email" id="loginEmail" required>
                </div>
                <div class="form-group">
                    <label for="loginPassword">Password</label>
                    <input type="password" id="loginPassword" required>
                </div>
                <button type="submit" class="btn btn-primary btn-full" id="loginSubmit">Sign In</button>
            </form>
        </div>
    </div>
</div>

<!-- Career Interest Form Modal -->
<div class="modal-overlay" id="careerModal">
    <div class="modal">
        <div class="modal-header">
            <h3>Career Interest Form</h3>
            <button class="modal-close" id="careerModalClose">&times;</button>
        </div>
        <div class="modal-body">
            <form class="career-form" id="careerForm">
                <div class="form-header">
                    <p>Join our team of passionate music and arts educators!</p>
                </div>
                
                <!-- Personal Information -->
                <div class="form-section">
                    <h4>Personal Information</h4>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="careerFirstName">First Name *</label>
                            <input type="text" id="careerFirstName" name="firstName" autocomplete="given-name" required>
                        </div>
                        <div class="form-group">
                            <label for="careerLastName">Last Name *</label>
                            <input type="text" id="careerLastName" name="lastName" autocomplete="family-name" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="careerEmail">Email Address *</label>
                            <input type="email" id="careerEmail" name="email" autocomplete="email" required>
                        </div>
                        <div class="form-group">
                            <label for="careerPhone">Phone Number *</label>
                            <input type="tel" id="careerPhone" name="phone" placeholder="(555) 123-4567" autocomplete="tel" required>
                            <small style="color: #666; font-size: 12px; display: block; margin-top: 4px;">
                                Format: (555) 123-4567
                            </small>
                        </div>
                    </div>
                </div>
                
                <!-- Position Information -->
                <div class="form-section">
                    <h4>Position Information</h4>
                    
                    <div class="form-group">
                        <label for="positionInterest">Position of Interest *</label>
                        <select id="positionInterest" name="position" required>
                            <option value="">Select position</option>
                            <option value="Music Instructor">Music Instructor</option>
                            <option value="Sports Coach">Sports Coach</option>
                            <option value="Dance Instructor">Dance Instructor</option>
                            <option value="Percussion Instructor">Percussion Instructor</option>
                            <option value="Choir Director">Choir Director</option>
                            <option value="Program Coordinator">Program Coordinator</option>
                            <option value="Administrative Staff">Administrative Staff</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="availability">Availability *</label>
                        <select id="availability" name="availability" required>
                            <option value="">Select availability</option>
                            <option value="Full-Time">Full-Time</option>
                            <option value="Part-Time">Part-Time</option>
                            <option value="Contract/Seasonal">Contract/Seasonal</option>
                            <option value="Flexible">Flexible</option>
                        </select>
                    </div>
                </div>
                
                <!-- Qualifications -->
                <div class="form-section">
                    <h4>Qualifications</h4>
                    
                    <div class="form-group">
                        <label for="experience">Years of Experience *</label>
                        <select id="experience" name="experience" required>
                            <option value="">Select experience</option>
                            <option value="Less than 1 year">Less than 1 year</option>
                            <option value="1-3 years">1-3 years</option>
                            <option value="3-5 years">3-5 years</option>
                            <option value="5-10 years">5-10 years</option>
                            <option value="10+ years">10+ years</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="education">Education Level *</label>
                        <select id="education" name="education" required>
                            <option value="">Select education level</option>
                            <option value="High School Diploma">High School Diploma</option>
                            <option value="Associate Degree">Associate Degree</option>
                            <option value="Bachelor's Degree">Bachelor's Degree</option>
                            <option value="Master's Degree">Master's Degree</option>
                            <option value="Doctorate">Doctorate</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="certifications">Certifications (if any)</label>
                        <textarea id="certifications" name="certifications" rows="3" placeholder="List any relevant certifications or credentials..."></textarea>
                    </div>
                </div>
                
                <!-- Additional Information -->
                <div class="form-section">
                    <h4>Additional Information</h4>
                    
                    <div class="form-group">
                        <label for="coverLetter">Why do you want to join CSA? *</label>
                        <textarea id="coverLetter" name="coverLetter" rows="5" placeholder="Tell us about your passion for music/sports education and why you'd be a great fit for our team..." required></textarea>
                    </div>
                    
                    <!-- Resume Upload (OPTIONAL) -->
<div class="form-group">
    <label for="resumeFile">Resume Upload <span style="color: #999; font-weight: 400;">(Optional)</span></label>
    <div class="file-upload-container">
        <input 
            type="file" 
            id="resumeFile" 
            name="resumeFile"
            accept=".pdf,.doc,.docx"
            style="display: none;">
        
        <label for="resumeFile" class="file-upload-label">
            <div class="file-upload-icon">
                <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                    <polyline points="17 8 12 3 7 8"></polyline>
                    <line x1="12" y1="3" x2="12" y2="15"></line>
                </svg>
            </div>
            <div class="file-upload-text">
                <p style="font-weight: 600; margin: 0 0 5px;">Click to upload or drag and drop</p>
                <p style="font-size: 13px; color: #999; margin: 0;">PDF, DOC, or DOCX (max 5MB) - Optional</p>
            </div>
        </label>
        
        <p id="fileName" class="file-name">No file selected</p>
    </div>
    
    <!-- Progress Bar -->
    <div id="uploadProgress" class="upload-progress hidden">
        <div class="progress-bar">
            <div id="progressFill" class="progress-fill"></div>
        </div>
        <p id="progressText" class="progress-text">0%</p>
    </div>
</div>
                </div>
                
                <button type="submit" class="btn btn-primary btn-full">Submit Application</button>
            </form>
        </div>
    </div>
</div>
<!-- Success Modal -->
<div id="successModal" class="modal-overlay">
    <div class="modal-container success-modal-container">
        <div class="success-modal-content">
            <!-- Success Icon -->
            <div class="success-icon-wrapper">
                <svg class="success-icon" viewBox="0 0 52 52">
                    <circle class="success-circle" cx="26" cy="26" r="25" fill="none"/>
                    <path class="success-check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8"/>
                </svg>
            </div>
            
            <!-- Success Message -->
            <h2 class="success-title">Application Submitted!</h2>
            
            <p class="success-message">
                Thank you for your interest in joining CSA Entertainment.
            </p>
            
            <!-- Application ID Box -->
            <div class="application-id-box">
                <p class="id-label">Your Application ID</p>
                <p id="applicationIdDisplay" class="application-id">ABC123XYZ456</p>
                <p class="id-instruction">Please save this ID for your records</p>
            </div>
            
            <!-- Next Steps -->
            <div class="next-steps">
                <p class="next-steps-title">What happens next?</p>
                <ul class="next-steps-list">
                    <li>Our team will review your application</li>
                    <li>We'll contact you within 1-2 weeks</li>
                    <li>Keep an eye on your email</li>
                </ul>
            </div>
            
            <!-- Close Button -->
            <button class="success-close-btn" id="successModalClose">
                Got it, thanks!
            </button>
        </div>
    </div>
</div>
   <!-- Testimonials Section -->
<section class="testimonials" id="testimonials">
    <div class="container">
        <div class="section-header">
            <h2 class="section-title">What Educators Say</h2>
            <p class="section-subtitle">Hear from school leaders who have transformed their programs with CSA</p>
        </div>
        
        <!-- Testimonials Carousel Container -->
        <div class="testimonials-carousel-wrapper">
            <!-- Navigation Buttons -->
            <button class="testimonial-nav testimonial-nav-left" id="testimonialPrev" aria-label="Previous testimonial">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                    <path d="M15 18l-6-6 6-6"/>
                </svg>
            </button>
            
            <button class="testimonial-nav testimonial-nav-right" id="testimonialNext" aria-label="Next testimonial">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                    <path d="M9 18l6-6-6-6"/>
                </svg>
            </button>
            
            <!-- Testimonials Grid/Carousel -->
            <div class="testimonials-grid" id="testimonialsGrid">
                <div class="testimonial-card">
                    <div class="testimonial-content">
                        <p class="testimonial-text">
                            "CSA's programs have completely transformed our approach to PE and music education. Student engagement is at an all-time high, and we've seen measurable improvements in both academic performance and school culture."
                        </p>
                    </div>
                    <div class="testimonial-author">
                        <div class="author-avatar">
                            <img src="./images/testimonials/testimonial-1.jpg" alt="Sarah Martinez" loading="lazy">
                        </div>
                        <div class="author-info">
                            <h4 class="author-name">Sarah Martinez</h4>
                            <p class="author-title">Principal, Oakwood Elementary</p>
                        </div>
                    </div>
                </div>
                
                <div class="testimonial-card">
                    <div class="testimonial-content">
                        <p class="testimonial-text">
                            "The quality of instruction and curriculum is exceptional. Our teachers appreciate the professional development opportunities, and parents consistently praise the program's impact on their children."
                        </p>
                    </div>
                    <div class="testimonial-author">
                        <div class="author-avatar">
                            <img src="./images/testimonials/testimonial-1.jpg" alt="Michael Chen" loading="lazy">
                        </div>
                        <div class="author-info">
                            <h4 class="author-name">Michael Chen</h4>
                            <p class="author-title">PE Coordinator, Riverside District</p>
                        </div>
                    </div>
                </div>
                
                <div class="testimonial-card">
                    <div class="testimonial-content">
                        <p class="testimonial-text">
                            "Implementation was seamless, and the ongoing support is outstanding. CSA makes it easy for administrators to provide high-quality programs without the typical headaches of program management."
                        </p>
                    </div>
                    <div class="testimonial-author">
                        <div class="author-avatar">
                            <img src="./images/testimonials/testimonial-1.jpg" alt="Jennifer Walsh" loading="lazy">
                        </div>
                        <div class="author-info">
                            <h4 class="author-name">Jennifer Walsh</h4>
                            <p class="author-title">Assistant Principal, Maple Grove</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Dot Indicators -->
            <div class="testimonial-dots" id="testimonialDots">
                <button class="dot active" data-index="0" aria-label="Go to testimonial 1"></button>
                <button class="dot" data-index="1" aria-label="Go to testimonial 2"></button>
                <button class="dot" data-index="2" aria-label="Go to testimonial 3"></button>
            </div>
        </div>
    </div>
</section>

   <!-- Contact Section -->
<section class="contact" id="contact">
    <div class="container">
        <div class="contact-content">
            <div class="contact-info">
                <div class="section-header">
                    <h2>Ready to Get Started?</h2>
                    <p class="section-subtitle">
                        Join the growing community of schools providing exceptional sports and music programs. Contact us to learn how CSA can enhance your educational offerings.
                    </p>
                </div>
                
                <div class="contact-details">
                    <a href="mailto:info@CSAevents.biz" class="contact-icon-btn email" aria-label="Email us">
                        <img src="images/icons/email.png" alt="Email" class="contact-social-icon">
                    </a>
                    <a href="https://www.linkedin.com/company/csa-events-entertainment/posts/?feedView=all" target="_blank" rel="noopener noreferrer" class="contact-icon-btn linkedin" aria-label="LinkedIn">
                        <img src="images/icons/linkedin.png" alt="LinkedIn" class="contact-social-icon">
                    </a>
                    <a href="https://www.instagram.com/csaeventsandentertainment/?hl=en" target="_blank" rel="noopener noreferrer" class="contact-icon-btn instagram" aria-label="Instagram">
                        <img src="images/icons/insta.png" alt="Instagram" class="contact-social-icon">
                    </a>
                </div>
            </div>
            
            <div class="contact-form-container">
                <form class="contact-form" id="contactForm">
                    <div class="form-header">
                        <h3>Request Information</h3>
                    </div>
                    
                    <!-- Initial Role Selection -->
                    <div class="educator-check">
                        <select id="educatorRole" name="educatorRole" required>
                            <option value="">Please select</option>
                            <option value="education-professional">Education Professional</option>
                            <option value="parent">Parent/Guardian</option>
                        </select>
                    </div>
        
        <!-- ============================================ -->
        <!-- EDUCATION PROFESSIONAL FORM FIELDS -->
        <!-- ============================================ -->
        <div class="form-fields" id="educatorFormFields" style="display: none;">
            <div class="form-section-header">
                <h4>Education Professional Inquiry</h4>
                <p>Tell us about your school or district</p>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="eduFirstName">First Name *</label>
                    <input type="text" id="eduFirstName" name="firstName" autocomplete="given-name">
                </div>
                <div class="form-group">
                    <label for="eduLastName">Last Name *</label>
                    <input type="text" id="eduLastName" name="lastName" autocomplete="family-name">
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="eduEmail">Work Email Address *</label>
                    <input type="email" id="eduEmail" name="email" placeholder="name@school.edu" autocomplete="email">
                </div>
                <div class="form-group">
                    <label for="eduPhone">Office Phone Number</label>
                    <input type="tel" id="eduPhone" name="phone" autocomplete="tel">
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="organizationName">School/District Name *</label>
<input type="text" id="organizationName" name="organization" placeholder="Enter school or district name" autocomplete="organization">
                </div>
                <div class="form-group">
                    <label for="organizationType">Organization Type *</label>
                    <select id="organizationType" name="organizationType">
                        <option value="">Select type</option>
                        <option value="elementary-school">Elementary School</option>
                        <option value="middle-school">Middle School</option>
                        <option value="k8-school">K-8 School</option>
                        <option value="school-district">School District Office</option>
                        <option value="charter-school">Charter School</option>
                        <option value="private-school">Private School</option>
                        <option value="education-service-center">Education Service Center</option>
                        <option value="after-school-program">After School Program</option>
                        <option value="community-center">Community Center</option>
                        <option value="other">Other Educational Institution</option>
                    </select>
                </div>
            </div>
            
            <div class="form-group">
                <label for="eduPosition">Your Position/Title *</label>
                <select id="eduPosition" name="position">
                    <option value="">Select your position</option>
                    <optgroup label="District Administration">
                        <option value="superintendent">Superintendent</option>
                        <option value="assistant-superintendent">Assistant Superintendent</option>
                        <option value="district-director">District Program Director</option>
                        <option value="curriculum-director">Curriculum Director</option>
                        <option value="district-coordinator">District Coordinator</option>
                    </optgroup>
                    <optgroup label="School Administration">
                        <option value="principal">Principal</option>
                        <option value="assistant-principal">Assistant Principal</option>
                        <option value="dean">Dean</option>
                        <option value="program-director">Program Director</option>
                    </optgroup>
                    <optgroup label="Coordinators & Specialists">
                        <option value="pe-coordinator">PE Coordinator</option>
                        <option value="music-coordinator">Music Coordinator</option>
                        <option value="arts-coordinator">Arts Coordinator</option>
                        <option value="activities-coordinator">Activities Coordinator</option>
                        <option value="after-school-coordinator">After School Coordinator</option>
                        <option value="enrichment-coordinator">Enrichment Coordinator</option>
                        <option value="education-specialist">Education Specialist</option>
                    </optgroup>
                    <optgroup label="Teachers">
                        <option value="pe-teacher">PE Teacher</option>
                        <option value="music-teacher">Music Teacher</option>
                        <option value="art-teacher">Art Teacher</option>
                        <option value="classroom-teacher">Classroom Teacher</option>
                        <option value="department-head">Department Head</option>
                    </optgroup>
                    <optgroup label="Other Roles">
                        <option value="counselor">School Counselor</option>
                        <option value="board-member">School Board Member</option>
                        <option value="office-staff">Office Staff</option>
                        <option value="other">Other</option>
                    </optgroup>
                </select>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="studentCount"># of Students</label>
                    <select id="studentCount" name="studentCount">
                        <option value="">Select range</option>
                        <option value="under-100">Under 100 students</option>
                        <option value="100-300">100-300 students</option>
                        <option value="300-500">300-500 students</option>
                        <option value="500-800">500-800 students</option>
                        <option value="800-1000">800-1,000 students</option>
                        <option value="over-1000">Over 1,000 students</option>
                        <option value="district-wide">District-wide (multiple schools)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="gradeLevel">Grade Levels Served</label>
                    <select id="gradeLevel" name="gradeLevel">
                        <option value="">Select grades</option>
                        <option value="prek-k">Pre-K to Kindergarten</option>
                        <option value="k-2">K-2nd Grade</option>
                        <option value="3-5">3rd-5th Grade</option>
                        <option value="k-5">K-5th Grade (Elementary)</option>
                        <option value="k-6">K-6th Grade</option>
                        <option value="k-8">K-8th Grade</option>
                        <option value="6-8">6th-8th Grade (Middle)</option>
                        <option value="multiple">Multiple Schools/Grades</option>
                    </select>
                </div>
            </div>
            
            <div class="form-group">
    <h3>Programs of Interest * <span class="label-hint">(Select all that apply)</span></h3>
    <div class="checkbox-controls">
        <button type="button" class="checkbox-control-btn" onclick="selectAllPrograms('eduPrograms')">
            <span class="control-icon">‚úì</span> Select All
        </button>
        <button type="button" class="checkbox-control-btn clear" onclick="clearAllPrograms('eduPrograms')">
            <span class="control-icon">‚úï</span> Clear All
        </button>
    </div>
    <div class="checkbox-grid two-columns" id="eduProgramsGrid">
        <div class="checkbox-group-label">Music Programs</div>
        <label class="checkbox-item">
            <input type="checkbox" name="eduPrograms" value="choir">
            <span class="checkbox-emoji">üéµ</span>
            <span class="checkbox-text">Choir Programs</span>
        </label>
        <label class="checkbox-item">
            <input type="checkbox" name="eduPrograms" value="percussion">
            <span class="checkbox-emoji">ü•Å</span>
            <span class="checkbox-text">Percussion Programs</span>
        </label>
        <label class="checkbox-item">
            <input type="checkbox" name="eduPrograms" value="guitar">
            <span class="checkbox-emoji">üé∏</span>
            <span class="checkbox-text">Guitar Programs</span>
        </label>
        <label class="checkbox-item">
            <input type="checkbox" name="eduPrograms" value="keyboard">
            <span class="checkbox-emoji">üéπ</span>
            <span class="checkbox-text">Keyboard & Piano</span>
        </label>
        <label class="checkbox-item">
            <input type="checkbox" name="eduPrograms" value="dj">
            <span class="checkbox-emoji">üéß</span>
            <span class="checkbox-text">DJ & Music Production</span>
        </label>
        
        <div class="checkbox-group-label">Arts & Movement</div>
        <label class="checkbox-item">
            <input type="checkbox" name="eduPrograms" value="dance">
            <span class="checkbox-emoji">üíÉ</span>
            <span class="checkbox-text">Dance Programs</span>
        </label>
        <label class="checkbox-item">
            <input type="checkbox" name="eduPrograms" value="sports">
            <span class="checkbox-emoji">‚öΩ</span>
            <span class="checkbox-text">Sports Programs</span>
        </label>
        
        <div class="checkbox-group-label">Media & Technology</div>
        <label class="checkbox-item">
            <input type="checkbox" name="eduPrograms" value="podcasting">
            <span class="checkbox-emoji">üéôÔ∏è</span>
            <span class="checkbox-text">Podcasting & Media</span>
        </label>
        
        <div class="checkbox-group-label">Program Types</div>
        <label class="checkbox-item">
            <input type="checkbox" name="eduPrograms" value="after-school">
            <span class="checkbox-emoji">üìö</span>
            <span class="checkbox-text">After School Programs</span>
        </label>
        <label class="checkbox-item">
            <input type="checkbox" name="eduPrograms" value="winter-camps">
            <span class="checkbox-emoji">‚ùÑÔ∏è</span>
            <span class="checkbox-text">Winter Camps</span>
        </label>
        <label class="checkbox-item">
            <input type="checkbox" name="eduPrograms" value="summer-camps">
            <span class="checkbox-emoji">‚òÄÔ∏è</span>
            <span class="checkbox-text">Summer Camps</span>
        </label>
        <label class="checkbox-item">
            <input type="checkbox" name="eduPrograms" value="concerts">
            <span class="checkbox-emoji">üé§</span>
            <span class="checkbox-text">Concert Programs</span>
        </label>
        <label class="checkbox-item">
            <input type="checkbox" name="eduPrograms" value="assemblies">
            <span class="checkbox-emoji">üè´</span>
            <span class="checkbox-text">School Assemblies</span>
        </label>
        
        <label class="checkbox-item consultation-option full-width">
            <input type="checkbox" name="eduPrograms" value="consultation">
            <span class="checkbox-emoji">üí¨</span>
            <span class="checkbox-text">Program Consultation - Help me decide</span>
        </label>
    </div>
    <p class="field-error" id="eduProgramsError" style="display: none;">Please select at least one program</p>
</div>
            
            <div class="form-group">
                <label for="implementationTimeline">Implementation Timeline</label>
                <select id="implementationTimeline" name="timeline">
                    <option value="">When are you looking to start?</option>
                    <option value="immediately">As soon as possible</option>
                    <option value="this-semester">This semester</option>
                    <option value="next-semester">Next semester</option>
                    <option value="next-school-year">Next school year</option>
                    <option value="summer">Summer programs</option>
                    <option value="exploring">Just exploring options</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="eduMessage">Additional Information</label>
                <textarea id="eduMessage" name="message" rows="4" placeholder="Tell us about your school's goals, current programs, budget considerations, or any specific needs..."></textarea>
            </div>
            
            <div class="form-group">
                <label for="howHeard">How did you hear about CSA?</label>
                <select id="howHeard" name="howHeard">
                    <option value="">Please select</option>
                    <option value="colleague">Colleague/Another School</option>
                    <option value="district">District Recommendation</option>
                    <option value="conference">Conference/Event</option>
                    <option value="google">Google Search</option>
                    <option value="social-media">Social Media</option>
                    <option value="parent-referral">Parent Referral</option>
                    <option value="flyer">Flyer/Brochure</option>
                    <option value="other">Other</option>
                </select>
            </div>
            
            <button type="submit" class="btn btn-primary btn-full">Request Information</button>
        </div>
        
        <!-- ============================================ -->
        <!-- PARENT/GUARDIAN FORM FIELDS -->
        <!-- ============================================ -->
        <div class="form-fields" id="parentFormFields" style="display: none;">
            <div class="form-section-header">
                <h4>Parent/Guardian Inquiry</h4>
                <p>Help us connect you with your school</p>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="parentFirstName">Your First Name *</label>
                    <input type="text" id="parentFirstName" name="firstName" autocomplete="given-name">
                </div>
                <div class="form-group">
                    <label for="parentLastName">Your Last Name *</label>
                    <input type="text" id="parentLastName" name="lastName" autocomplete="family-name">
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="parentEmail">Email Address *</label>
                    <input type="email" id="parentEmail" name="email" autocomplete="email">
                </div>
                <div class="form-group">
                    <label for="parentPhone">Phone Number</label>
                    <input type="tel" id="parentPhone" name="phone" autocomplete="tel">
                </div>
            </div>
            
            <div class="form-group">
                <label for="childSchool">Your Child's School Name *</label>
                <input type="text" id="childSchool" name="childSchool" placeholder="Enter your child's school name">
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="childGrade">Your Child's Grade Level</label>
                    <select id="childGrade" name="childGrade">
                        <option value="">Select grade</option>
                        <option value="prek">Pre-K</option>
                        <option value="kindergarten">Kindergarten</option>
                        <option value="1st">1st Grade</option>
                        <option value="2nd">2nd Grade</option>
                        <option value="3rd">3rd Grade</option>
                        <option value="4th">4th Grade</option>
                        <option value="5th">5th Grade</option>
                        <option value="6th">6th Grade</option>
                        <option value="multiple">Multiple Children</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="schoolDistrict">School District</label>
                    <select id="schoolDistrict" name="schoolDistrict">
                        <option value="">Select district</option>
                        <option value="fresno-unified">Fresno Unified</option>
                        <option value="clovis-unified">Clovis Unified</option>
                        <option value="central-unified">Central Unified</option>
                        <option value="sanger-unified">Sanger Unified</option>
                        <option value="selma-unified">Selma Unified</option>
                        <option value="kings-canyon">Kings Canyon Unified</option>
                        <option value="kerman-unified">Kerman Unified</option>
                        <option value="other">Other District</option>
                    </select>
                </div>
            </div>
            
            <div class="form-group">
                <label for="parentRole">Your Involvement (Optional)</label>
                <select id="parentRole" name="parentRole">
                    <option value="">Select if applicable</option>
                    <option value="parent-only">Parent/Guardian</option>
                    <option value="pta-member">PTA/PTO Member</option>
                    <option value="pta-leader">PTA/PTO Board Member/Officer</option>
                    <option value="school-volunteer">School Volunteer</option>
                    <option value="booster-club">Booster Club Member</option>
                    <option value="site-council">School Site Council Member</option>
                    <option value="other">Other</option>
                </select>
            </div>
            
            <div class="form-group">
    <h3>Programs Your Child Would Enjoy <span class="label-hint">(Select all that apply)</span></h3>
    <div class="checkbox-controls">
        <button type="button" class="checkbox-control-btn" onclick="selectAllPrograms('parentPrograms')">
            <span class="control-icon">‚úì</span> Select All
        </button>
        <button type="button" class="checkbox-control-btn clear" onclick="clearAllPrograms('parentPrograms')">
            <span class="control-icon">‚úï</span> Clear All
        </button>
    </div>
    <div class="checkbox-grid two-columns" id="parentProgramsGrid">
        <div class="checkbox-group-label">Music</div>
        <label class="checkbox-item">
            <input type="checkbox" name="parentPrograms" value="choir">
            <span class="checkbox-label">üéµ Choir/Singing</span>
        </label>
        <label class="checkbox-item">
            <input type="checkbox" name="parentPrograms" value="percussion">
            <span class="checkbox-label">ü•Å Drums/Percussion</span>
        </label>
        <label class="checkbox-item">
            <input type="checkbox" name="parentPrograms" value="guitar">
            <span class="checkbox-label">üé∏ Guitar</span>
        </label>
        <label class="checkbox-item">
            <input type="checkbox" name="parentPrograms" value="keyboard">
            <span class="checkbox-label">üéπ Keyboard/Piano</span>
        </label>
        <label class="checkbox-item">
            <input type="checkbox" name="parentPrograms" value="dj">
            <span class="checkbox-label">üéß DJ & Music Production</span>
        </label>
        
        <div class="checkbox-group-label">Arts & Movement</div>
        <label class="checkbox-item">
            <input type="checkbox" name="parentPrograms" value="dance">
            <span class="checkbox-label">üíÉ Dance</span>
        </label>
        <label class="checkbox-item">
            <input type="checkbox" name="parentPrograms" value="sports">
            <span class="checkbox-label">‚öΩ Sports</span>
        </label>
        
        <div class="checkbox-group-label">Media</div>
        <label class="checkbox-item">
            <input type="checkbox" name="parentPrograms" value="podcasting">
            <span class="checkbox-label">üéôÔ∏è Podcasting & Media</span>
        </label>
        
        <div class="checkbox-group-label">Program Types</div>
        <label class="checkbox-item">
            <input type="checkbox" name="parentPrograms" value="after-school">
            <span class="checkbox-label">üìö After School Programs</span>
        </label>
        <label class="checkbox-item">
            <input type="checkbox" name="parentPrograms" value="summer-camps">
            <span class="checkbox-label">‚òÄÔ∏è Summer Camps</span>
        </label>
        <label class="checkbox-item">
            <input type="checkbox" name="parentPrograms" value="winter-camps">
            <span class="checkbox-label">‚ùÑÔ∏è Winter Camps</span>
        </label>
        
        <label class="checkbox-item not-sure-option full-width">
            <input type="checkbox" name="parentPrograms" value="not-sure" id="parentNotSure">
            <span class="checkbox-label">ü§î Not sure yet - tell me more!</span>
        </label>
    </div>
</div>
            
            <div class="form-group">
                <label for="inquiryType">How Can We Help You? *</label>
                <select id="inquiryType" name="inquiryType">
                    <option value="">Select your inquiry type</option>
                    <option value="check-availability">Check if CSA is available at my child's school</option>
                    <option value="request-school">Request CSA programs at my child's school</option>
                    <option value="enroll-child">Enroll my child in an existing program</option>
                    <option value="program-info">Get more information about programs</option>
                    <option value="summer-camps">Learn about summer camp options</option>
                    <option value="speak-to-rep">Speak with a CSA representative</option>
                    <option value="pta-partnership">Discuss PTA/School partnership</option>
                    <option value="other">Other inquiry</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="parentMessage">Your Message</label>
                <textarea id="parentMessage" name="message" rows="4" placeholder="Tell us more about what you're looking for, your child's interests, or any questions you have..."></textarea>
            </div>
            
            <div class="parent-note">
                <p><strong>üí° Note:</strong> CSA partners directly with schools and districts to provide programs. If CSA isn't currently at your child's school, we can help you connect with school administration to explore bringing our programs to your community!</p>
            </div>
            
            <button type="submit" class="btn btn-primary btn-full">Submit Inquiry</button>
        </div>
        
        <!-- Placeholder message before selection -->
        <div class="role-select-prompt" id="roleSelectPrompt">
            <div class="prompt-content">
                <div class="prompt-icon">üëÜ</div>
                <p>Make a selection from the dropdown menu to continue.</p>
            </div>
        </div>
    </form>
</div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
   <div class="logo">
       <img src="./images/logo.png" alt="CSA Logo" class="logo-image">
   </div>
</div>
                
                <div class="footer-section">
                    <h4>Programs</h4>
                    <ul class="footer-links">
                        <li><a href="#programs">Sports Programs</a></li>
                        <li><a href="#programs">Dance Programs</a></li>
                        <li><a href="#programs">Choir Programs</a></li>
                        <li><a href="#programs">Percussion Programs</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>For Schools</h4>
                    <ul class="footer-links">
                        <li><a href="#about">Why Choose CSA</a></li>
                        <li><a href="#testimonials">Success Stories</a></li>
                        <li><a href="#contact">Get Started</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
    <h4>Contact Info</h4>
    <ul class="footer-links">
        <li><a href="mailto:contact@yourcompany.com">info@CSAevents.biz</a></li>
    </ul>
</div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2025 Community Sports & Arts. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Notification -->
    <div class="notification" id="notification">
        <div class="notification-content">
            <span class="notification-text" id="notificationText"></span>
            <button class="notification-close" id="notificationClose">&times;</button>
        </div>
    </div>

    <!-- Scripts -->
<!-- Loader Script -->
<script>
// FIXED LOADER - Hero logo visible, loader fades over it
(function() {
    'use strict';
    
    let progressValue = 0;
    let targetProgress = 0;
    let animationId;
    let hasStarted = false;
    let isComplete = false;
    let originalScrollPosition = 0;
    
    let lastFrameTime = 0;
    let progressBar, progressRing, companyText, progressContainer;
    const circumference = 2 * Math.PI * 150;
    
    // Responsive sizes - must match CSS
    const SIZES = {
        desktop: { size: 300, border: 3 },
        tablet: { size: 220, border: 3 },
        iphonePro: { size: 220, border: 3 },
        mobile: { size: 180, border: 2 },
        small: { size: 160, border: 2 },
        xsmall: { size: 140, border: 2 }
    };
    
    function getCurrentLogoSize() {
        const width = window.innerWidth;
        if (width <= 320) return SIZES.xsmall;
        if (width <= 375) return SIZES.small;
        if (width >= 390 && width <= 480) return SIZES.iphonePro;
        if (width <= 480) return SIZES.mobile;
        if (width <= 768) return SIZES.tablet;
        return SIZES.desktop;
    }
    
    function preventScrolling() {
        originalScrollPosition = window.pageYOffset || document.documentElement.scrollTop;
        if (document.documentElement) document.documentElement.classList.add('loading-active');
        if (document.body) {
            document.body.classList.add('loading-active');
            document.body.style.top = `-${originalScrollPosition}px`;
        }
        if ('scrollRestoration' in history) history.scrollRestoration = 'manual';
        document.addEventListener('wheel', preventScroll, { passive: false });
        document.addEventListener('touchmove', preventScroll, { passive: false });
        document.addEventListener('keydown', preventScrollKeys, { passive: false });
    }
    
    function allowScrolling() {
        if (document.documentElement) document.documentElement.classList.remove('loading-active');
        if (document.body) {
            document.body.classList.remove('loading-active');
            document.body.style.top = '';
        }
        window.scrollTo(0, originalScrollPosition);
        if ('scrollRestoration' in history) history.scrollRestoration = 'auto';
        document.removeEventListener('wheel', preventScroll);
        document.removeEventListener('touchmove', preventScroll);
        document.removeEventListener('keydown', preventScrollKeys);
    }
    
    function preventScroll(e) { e.preventDefault(); e.stopPropagation(); return false; }
    function preventScrollKeys(e) {
        const scrollKeys = [32, 33, 34, 35, 36, 37, 38, 39, 40];
        if (scrollKeys.includes(e.keyCode)) { e.preventDefault(); e.stopPropagation(); return false; }
    }
    
    // Get exact hero logo position
    function getHeroPosition() {
        const heroLogo = document.querySelector('.hero-logo');
        if (heroLogo) {
            const rect = heroLogo.getBoundingClientRect();
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            return {
                top: rect.top + scrollTop + (rect.height / 2),
                left: rect.left + (rect.width / 2)
            };
        }
        return { top: window.innerHeight / 2, left: window.innerWidth / 2 };
    }
    
    function updateProgressInstant(newTarget) {
        targetProgress = newTarget;
        if (!animationId) animationId = requestAnimationFrame(ultraSmoothProgress);
    }
    
    function ultraSmoothProgress(currentTime) {
        if (currentTime - lastFrameTime < 16.67) {
            animationId = requestAnimationFrame(ultraSmoothProgress);
            return;
        }
        lastFrameTime = currentTime;
        
        const diff = targetProgress - progressValue;
        const speed = Math.abs(diff) > 20 ? 0.25 : 0.15;
        progressValue += diff * speed;
        
        if (progressBar) {
            const offset = circumference - (progressValue / 100) * circumference;
            progressBar.style.strokeDashoffset = offset;
        }
        
        if (Math.abs(diff) > 0.1) {
            animationId = requestAnimationFrame(ultraSmoothProgress);
        } else {
            progressValue = targetProgress;
            animationId = null;
            if (targetProgress >= 100) triggerEmissiveInstant();
        }
    }
    
    function triggerEmissiveInstant() {
        if (!progressBar || !progressContainer) return;
        
        progressBar.classList.add('emissive');
        progressContainer.classList.add('emissive');
        if (progressRing) {
            progressRing.classList.remove('animating');
            progressRing.classList.add('success-complete');
        }
        
        if (companyText) {
            companyText.style.animation = 'ultraFastReveal 600ms cubic-bezier(0.19, 1, 0.22, 1) forwards';
            companyText.style.opacity = '1';
            setTimeout(() => companyText.classList.add('glow-active'), 200);
        }
        
        setTimeout(() => startFastExit(), 1500);
    }
    
    function startFastExit() {
        if (companyText) {
            companyText.classList.remove('glow-active');
            companyText.style.animation = 'ultraFastExit 400ms cubic-bezier(0.19, 1, 0.22, 1) forwards';
        }
        
        setTimeout(() => {
            if (progressBar && progressContainer) {
                progressBar.style.transition = 'opacity 300ms ease';
                progressContainer.style.transition = 'opacity 300ms ease';
                progressBar.style.opacity = '0';
                progressContainer.style.opacity = '0';
            }
        }, 100);
        
        setTimeout(() => completeLoadingInstant(), 300);
    }
    
    function completeLoadingInstant() {
        if (isComplete) return;
        isComplete = true;
        
        const loader = document.getElementById('loader');
        const loaderHeroLogo = document.getElementById('loaderHeroLogo');
        const currentSize = getCurrentLogoSize();
        
        if (loaderHeroLogo) {
            const heroPos = getHeroPosition();
            
            // Move loader logo to exact hero position
            loaderHeroLogo.style.top = heroPos.top + 'px';
            loaderHeroLogo.style.left = heroPos.left + 'px';
            loaderHeroLogo.style.transform = 'translate(-50%, -50%) scale(1)';
            loaderHeroLogo.style.width = currentSize.size + 'px';
            loaderHeroLogo.style.height = currentSize.size + 'px';
            loaderHeroLogo.style.transition = 'all 400ms cubic-bezier(0.23, 1, 0.32, 1)';
            loaderHeroLogo.classList.add('move-to-position');
            
            const logoContainer = loaderHeroLogo.querySelector('.logo-container');
            if (logoContainer) {
                logoContainer.style.width = currentSize.size + 'px';
                logoContainer.style.height = currentSize.size + 'px';
                logoContainer.style.borderWidth = currentSize.border + 'px';
            }
        }
        
        // Fade out loader - hero is already visible underneath
        setTimeout(() => {
            if (loader) {
                loader.style.transition = 'opacity 600ms ease';
                loader.classList.add('fade-out');
                
                setTimeout(() => {
                    if (loader && loader.parentNode) loader.parentNode.removeChild(loader);
                    allowScrolling();
                }, 600);
            }
        }, 300);
    }
    
    function initializeUltraFast() {
        preventScrolling();
        
        progressBar = document.querySelector('.progress-bar');
        progressRing = document.querySelector('.progress-ring');
        companyText = document.querySelector('.company-name-text');
        progressContainer = document.querySelector('.loader .progress-container');
        const loaderHeroLogo = document.getElementById('loaderHeroLogo');
        
        if (progressBar) {
            progressBar.style.strokeDasharray = circumference;
            progressBar.style.strokeDashoffset = circumference;
            progressBar.style.willChange = 'stroke-dashoffset';
        }
        
        const currentSize = getCurrentLogoSize();
        if (loaderHeroLogo) {
            loaderHeroLogo.style.width = currentSize.size + 'px';
            loaderHeroLogo.style.height = currentSize.size + 'px';
            
            const logoContainer = loaderHeroLogo.querySelector('.logo-container');
            if (logoContainer) {
                logoContainer.style.width = currentSize.size + 'px';
                logoContainer.style.height = currentSize.size + 'px';
                logoContainer.style.borderWidth = currentSize.border + 'px';
            }
        }
        
        if (loaderHeroLogo) {
            setTimeout(() => {
                loaderHeroLogo.style.transition = 'opacity 400ms ease';
                loaderHeroLogo.classList.add('animate-in');
            }, 100);
        }
        
        if (progressRing) {
            hasStarted = true;
            progressRing.classList.add('animating');
            if (progressBar) progressBar.classList.add('vibrant-mode');
        }
        
        setTimeout(() => {
            if (companyText) companyText.style.animation = 'dramaticReveal 1.8s ease-out forwards';
        }, 300);
        
        const fastSteps = [
            { progress: 25, delay: 200 },
            { progress: 50, delay: 400 },
            { progress: 75, delay: 600 },
            { progress: 95, delay: 800 },
            { progress: 100, delay: 1000 }
        ];
        
        fastSteps.forEach(step => {
            setTimeout(() => updateProgressInstant(step.progress), step.delay);
        });
    }
    
    function waitForBodyAndInit() {
        if (document.body) initializeUltraFast();
        else setTimeout(waitForBodyAndInit, 10);
    }
    
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', waitForBodyAndInit);
    } else {
        waitForBodyAndInit();
    }
    
    setTimeout(() => { if (!isComplete) completeLoadingInstant(); }, 4000);
    
    document.addEventListener('visibilitychange', () => {
        if (document.hidden && !isComplete) setTimeout(completeLoadingInstant, 50);
    });
})();
</script>

<!-- Main Script (keep as module) -->
<!-- Main Script (inlined) -->
<script type="module">
// main.js - Simplified Firebase Authentication (Login Only)
import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js';
import { 
    getAuth, 
    onAuthStateChanged, 
    signInWithEmailAndPassword, 
    signOut
} from 'https://www.gstatic.com/firebasejs/10.7.0/firebase-auth.js';
import { 
    getFirestore, 
    collection, 
    addDoc,
    doc,
    updateDoc,
    serverTimestamp 
} from 'https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore.js';

import { 
    getStorage, 
    ref, 
    uploadBytesResumable, 
    getDownloadURL 
} from 'https://www.gstatic.com/firebasejs/10.7.0/firebase-storage.js';
// Firebase Configuration
const firebaseConfig = {
    apiKey: import.meta.env.VITE_FIREBASE_API_KEY,
    authDomain: import.meta.env.VITE_FIREBASE_AUTH_DOMAIN,
    projectId: import.meta.env.VITE_FIREBASE_PROJECT_ID,
    storageBucket: import.meta.env.VITE_FIREBASE_STORAGE_BUCKET,
    messagingSenderId: import.meta.env.VITE_FIREBASE_MESSAGING_SENDER_ID,
    appId: import.meta.env.VITE_FIREBASE_APP_ID
};

// Validate configuration
if (!firebaseConfig.apiKey || firebaseConfig.apiKey === 'undefined') {
    alert('Firebase not configured. Please check your environment variables.');
}

// Initialize Firebase
const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db = getFirestore(app);
const storage = getStorage(app); // Add this line


// Global state
window.currentUser = null;
let currentUser = null;
let allGalleryItems = [];

// ==================== AUTHENTICATION FUNCTIONS ====================

// Auth state observer
onAuthStateChanged(auth, (user) => {
    currentUser = user;
    window.currentUser = user; // Add this line
    updateUIForAuthState(user);
    
    if (user) {
        showNotification(`Welcome, ${user.displayName || user.email.split('@')[0]}`);
        showGalleryContent();
    } else {
        hideGalleryContent();
    }
});

// Update UI based on auth state
function updateUIForAuthState(user) {
    const authButtons = document.getElementById('authButtons');
    const userInfo = document.getElementById('userInfo');
    const userName = document.getElementById('userName');
    
    if (user) {
        authButtons?.classList.add('hidden');
        userInfo?.classList.remove('hidden');
        if (userName) userName.textContent = user.displayName || user.email.split('@')[0];
    } else {
        authButtons?.classList.remove('hidden');
        userInfo?.classList.add('hidden');
    }
}

// Sign in with email and password
async function signInWithEmail(email, password) {
    const userCredential = await signInWithEmailAndPassword(auth, email, password);
    closeModal('loginModal');
    return userCredential.user;
}

// Sign out
async function signOutUser() {
    await signOut(auth);
    window.currentUser = null; // Add this line
    showNotification('Signed out successfully');
}
// ==================== SIMPLIFIED CAREER FORM FUNCTIONS (No Email) ====================

// Phone number formatting
function formatPhoneNumber(input) {
    const numbers = input.replace(/\D/g, '');
    
    if (numbers.length <= 3) {
        return numbers;
    } else if (numbers.length <= 6) {
        return `(${numbers.slice(0, 3)}) ${numbers.slice(3)}`;
    } else {
        return `(${numbers.slice(0, 3)}) ${numbers.slice(3, 6)}-${numbers.slice(6, 10)}`;
    }
}

// Validate file upload
function validateResumeFile(file) {
    const maxSize = 5 * 1024 * 1024; // 5MB
    const allowedTypes = [
        'application/pdf',
        'application/msword',
        'application/vnd.openxmlformats-officedocument.wordprocessingml.document'
    ];
    
    if (!file) {
        return { valid: false, error: 'Please upload a resume file' };
    }
    
    if (!allowedTypes.includes(file.type)) {
        return { valid: false, error: 'Only PDF, DOC, and DOCX files are allowed' };
    }
    
    if (file.size > maxSize) {
        return { valid: false, error: 'File size must be less than 5MB' };
    }
    
    return { valid: true };
}

// Upload resume to Firebase Storage
async function uploadResume(file, applicationId) {
    return new Promise((resolve, reject) => {
        const timestamp = Date.now();
        const sanitizedFileName = file.name.replace(/[^a-zA-Z0-9.-]/g, '_');
        const fileName = `resumes/${applicationId}/${timestamp}_${sanitizedFileName}`;
        
        const storageRef = ref(storage, fileName);
        const uploadTask = uploadBytesResumable(storageRef, file);
        
        uploadTask.on('state_changed',
            (snapshot) => {
                const progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;
                updateUploadProgress(progress);
            },
            (error) => {
                console.error('Upload error:', error);
                reject(error);
            },
            async () => {
                try {
                    const downloadURL = await getDownloadURL(uploadTask.snapshot.ref);
                    resolve({
                        url: downloadURL,
                        fileName: file.name,
                        fileSize: file.size,
                        fileType: file.type
                    });
                } catch (error) {
                    reject(error);
                }
            }
        );
    });
}

// Update upload progress UI
function updateUploadProgress(progress) {
    const progressContainer = document.getElementById('uploadProgress');
    const progressFill = document.getElementById('progressFill');
    const progressText = document.getElementById('progressText');
    
    if (progressContainer && progressFill && progressText) {
        progressContainer.classList.remove('hidden');
        progressFill.style.width = `${progress}%`;
        progressText.textContent = `${Math.round(progress)}%`;
    }
}

async function submitCareerForm(formData, resumeFile) {
    try {
        // Create application document with all data
        const careerApplication = {
            ...formData,
            submittedAt: serverTimestamp(),
            status: 'pending',
            resumeUploaded: false  // Default to false
        };
        
        // Add document to Firestore - docRef.id will be auto-generated
        const docRef = await addDoc(collection(db, 'career_applications'), careerApplication);
        console.log('Application created with ID:', docRef.id);
        
        // ‚úÖ CRITICAL FIX: Only upload resume IF file exists
        if (resumeFile) {
            console.log('Resume file provided, uploading...');
            
            // Upload resume to Firebase Storage
            const resumeData = await uploadResume(resumeFile, docRef.id);
            
            // Update document with resume info
            await updateDoc(doc(db, 'career_applications', docRef.id), {
                resumeUploaded: true,
                resumeURL: resumeData.url,
                resumeFileName: resumeData.fileName,
                resumeFileSize: resumeData.fileSize,
                resumeFileType: resumeData.fileType
            });
            
            console.log('Resume uploaded successfully');
        } else {
            console.log('No resume file provided - skipping upload');
        }
        
        // Return the document ID
        return docRef.id;
    } catch (error) {
        console.error('Error submitting application:', error);
        throw error;
    }
}

// Updated validation
function validateCareerForm() {
    const requiredFields = [
        'careerFirstName', 'careerLastName', 'careerEmail', 'careerPhone',
        'positionInterest', 'availability', 'experience', 'education', 'coverLetter'
    ];
    
    let isValid = true;
    const errors = [];
    
    // Check all required fields
    requiredFields.forEach(fieldId => {
        const field = document.getElementById(fieldId);
        if (field && !field.value.trim()) {
            field.style.borderColor = '#f44336';
            errors.push(`${field.previousElementSibling?.textContent.replace(' *', '') || fieldId} is required`);
            isValid = false;
        } else if (field) {
            field.style.borderColor = '#e0e0e0';
        }
    });
    
    // Validate email format
    const emailField = document.getElementById('careerEmail');
    if (emailField?.value) {
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailRegex.test(emailField.value.trim())) {
            emailField.style.borderColor = '#f44336';
            errors.push('Please enter a valid email address');
            isValid = false;
        }
    }
    
    // Validate phone format
    const phoneField = document.getElementById('careerPhone');
    if (phoneField?.value) {
        const phoneRegex = /^\(\d{3}\)\s\d{3}-\d{4}$/;
        if (!phoneRegex.test(phoneField.value.trim())) {
            phoneField.style.borderColor = '#f44336';
            errors.push('Please enter a valid phone number: (555) 123-4567');
            isValid = false;
        }
    }
    
        // ‚úÖ If no file selected, that's perfectly fine - don't add any error
    
    if (!isValid) {
        showNotification(errors[0], 'error');
    }
    
    return isValid;
}

// Logo loading fix
document.addEventListener('DOMContentLoaded', () => {
    const heroLogoImg = document.querySelector('.hero-logo-image');
    
    if (heroLogoImg) {
        const testImage = new Image();
        testImage.onload = function() {
            heroLogoImg.classList.add('loaded');
        };
        testImage.onerror = function() {
            // Image failed - fallback will show automatically
        };
        testImage.src = heroLogoImg.src;
    }
});

// ==================== MODAL FUNCTIONS ====================

function showModal(modalId) {
    const modal = document.getElementById(modalId);
    if (modal) {
        modal.classList.add('active');
        document.body.classList.add('modal-open');
        document.body.style.overflow = 'hidden';
        document.body.style.height = '100vh';
    }
}

function closeModal(modalId) {
    const modal = document.getElementById(modalId);
    if (modal) {
        modal.classList.remove('active');
        document.body.classList.remove('modal-open');
        document.body.style.overflow = '';
        document.body.style.height = '';
        
        // Reset forms and styling
        modal.querySelectorAll('form').forEach(form => form.reset());
        modal.querySelectorAll('input').forEach(input => {
            input.style.borderColor = '#e0e0e0';
        });
    }
}
// ==================== SUCCESS MODAL FUNCTIONS ====================

function showSuccessModal(applicationId) {
    const successModal = document.getElementById('successModal');
    const applicationIdDisplay = document.getElementById('applicationIdDisplay');
    
    if (!successModal) {
        console.error('Success modal not found');
        showNotification('Application submitted successfully! Your Application ID: ' + applicationId);
        return;
    }
    
    // Set the Application ID
    if (applicationIdDisplay) {
        applicationIdDisplay.textContent = applicationId;
    }
    
    // Show the modal
    successModal.classList.add('active');
    
    // Prevent body scroll
    document.body.style.overflow = 'hidden';
    
    // Add animation class for entry
    const modalContent = successModal.querySelector('.success-modal-content');
    if (modalContent) {
        modalContent.style.animation = 'successModalSlideIn 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards';
    }
}

function closeSuccessModal() {
    const successModal = document.getElementById('successModal');
    
    if (!successModal) return;
    
    // Add exit animation
    const modalContent = successModal.querySelector('.success-modal-content');
    if (modalContent) {
        modalContent.style.animation = 'successModalSlideOut 0.3s cubic-bezier(0.16, 1, 0.3, 1) forwards';
    }
    
    // Remove modal after animation
    setTimeout(() => {
        successModal.classList.remove('active');
        
        // Restore body scroll
        document.body.style.overflow = '';
        
        // Reset animation
        if (modalContent) {
            modalContent.style.animation = '';
        }
    }, 300);
}

// ==================== ERROR HANDLING ====================

function handleAuthError(error) {
    const errorMessages = {
        'auth/user-not-found': 'No account found with this email',
        'auth/wrong-password': 'Incorrect password',
        'auth/invalid-email': 'Invalid email address',
        'auth/network-request-failed': 'Network error - check your connection',
        'auth/too-many-requests': 'Too many failed attempts. Please try again later.',
        'auth/user-disabled': 'This account has been disabled'
    };
    
    const message = errorMessages[error.code] || error.message || 'Authentication error occurred';
    showNotification(message, 'error');
}

// ==================== NOTIFICATION SYSTEM ====================

function showNotification(message, type = 'success') {
    const notification = document.getElementById('notification');
    const notificationText = document.getElementById('notificationText');
    
    if (notificationText) notificationText.textContent = message;
    if (notification) {
        notification.className = `notification ${type}`;
        notification.classList.add('show');
        
        setTimeout(() => notification.classList.remove('show'), 5000);
    }
}

// ==================== GALLERY FUNCTIONS ====================

function showGalleryContent() {
    const authRequired = document.getElementById('authRequired');
    const galleryContent = document.getElementById('galleryContent');
    
    if (authRequired) authRequired.style.display = 'none';
    if (galleryContent) {
        galleryContent.classList.remove('hidden');
        setTimeout(initializeGallery, 100);
    }
}

function hideGalleryContent() {
    const authRequired = document.getElementById('authRequired');
    const galleryContent = document.getElementById('galleryContent');
    
    if (authRequired) authRequired.style.display = 'block';
    if (galleryContent) galleryContent.classList.add('hidden');
}

function initializeGallery() {
    allGalleryItems = Array.from(document.querySelectorAll('.gallery-item'));
    updatePhotoCount();
    
    // Add filter event listeners
    ['categoryFilter', 'programFilter', 'locationFilter', 'dateFilter'].forEach(filterId => {
    const filter = document.getElementById(filterId);
    if (filter) filter.addEventListener('change', filterGallery);
});
    
    const resetBtn = document.getElementById('filterReset');
    if (resetBtn) resetBtn.addEventListener('click', resetFilters);
}

function filterGallery() {
    const filters = {
        category: document.getElementById('categoryFilter')?.value || 'all',  // NEW
        program: document.getElementById('programFilter')?.value || 'all',
        location: document.getElementById('locationFilter')?.value || 'all',
        date: document.getElementById('dateFilter')?.value || 'all'
    };
    
    let visibleCount = 0;
    
    allGalleryItems.forEach(item => {
        // Check category (comma-separated values in data-category)
        const categories = (item.dataset.category || '').split(',').map(cat => cat.trim());
        const categoryMatch = filters.category === 'all' || categories.includes(filters.category);
        
        // Check other filters (single values)
        const programMatch = filters.program === 'all' || item.dataset.subcategory === filters.program;
        const locationMatch = filters.location === 'all' || item.dataset.location === filters.location;
        const dateMatch = filters.date === 'all' || item.dataset.date === filters.date;
        
        // Item is visible if ALL filters match
        const matches = categoryMatch && programMatch && locationMatch && dateMatch;
        
        if (matches) {
            item.classList.remove('hidden');
            visibleCount++;
        } else {
            item.classList.add('hidden');
        }
    });
    
    const filteredPhotos = document.getElementById('filteredPhotos');
    if (filteredPhotos) filteredPhotos.textContent = visibleCount;
}

function resetFilters() {
    // Reset ALL filters including the new category filter
    ['categoryFilter', 'programFilter', 'locationFilter', 'dateFilter'].forEach(filterId => {
        const filter = document.getElementById(filterId);
        if (filter) filter.value = 'all';
    });
    
    allGalleryItems.forEach(item => item.classList.remove('hidden'));
    updatePhotoCount();
}

function updatePhotoCount() {
    const total = allGalleryItems.length;
    const visible = allGalleryItems.filter(item => !item.classList.contains('hidden')).length;
    
    const totalEl = document.getElementById('totalPhotos');
    const visibleEl = document.getElementById('filteredPhotos');
    
    if (totalEl) totalEl.textContent = total;
    if (visibleEl) visibleEl.textContent = visible;
}

// ==================== NAVIGATION & UI ====================

// Header scroll effect - iOS Compatible
let lastScrollY = window.scrollY;
let ticking = false;

function isMobile() {
    return window.innerWidth <= 768;
}

function isIOS() {
    return /iPad|iPhone|iPod/.test(navigator.userAgent) || 
           (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1);
}

function updateHeader() {
    const currentScrollY = window.scrollY;
    const header = document.getElementById('header');
    
    if (!header) return;
    
    // Apply scrolled class
    if (currentScrollY > 50) {
        header.classList.add('scrolled');
    } else {
        header.classList.remove('scrolled');
    }
    
    // Mobile header hide/show - iOS compatible
    if (isMobile()) {
        if (currentScrollY > lastScrollY && currentScrollY > 100) {
            // Use class instead of inline style for iOS
            header.classList.add('header-hidden');
        } else {
            header.classList.remove('header-hidden');
        }
    } else {
        header.classList.remove('header-hidden');
    }
    
    lastScrollY = currentScrollY;
    ticking = false;
}

window.addEventListener('scroll', () => {
    if (!ticking) {
        // Use requestAnimationFrame for smoother scrolling on iOS
        requestAnimationFrame(updateHeader);
        ticking = true;
    }
}, { passive: true });

// Handle orientation change on iOS
window.addEventListener('orientationchange', () => {
    setTimeout(() => {
        const header = document.getElementById('header');
        if (header) {
            header.classList.remove('header-hidden');
        }
    }, 100);
});

// Reset header position on window resize to handle orientation changes
window.addEventListener('resize', () => {
    const header = document.getElementById('header');
    if (!header) return;
    
    if (!isMobile()) {
        header.style.transform = 'translateY(0)';
    }
});

// Mobile navigation
function setupMobileNav() {
    const navToggle = document.getElementById('navToggle');
    const navMenu = document.getElementById('navMenu');
    
    if (!navToggle || !navMenu) return;
    
    navToggle.addEventListener('click', () => {
        navToggle.classList.toggle('active');
        navMenu.classList.toggle('active');
        document.body.style.overflow = navMenu.classList.contains('active') ? 'hidden' : '';
    });
    
    navMenu.addEventListener('click', (e) => {
        if (e.target.classList.contains('nav-link')) {
            navToggle.classList.remove('active');
            navMenu.classList.remove('active');
            document.body.style.overflow = '';
        }
    });
}

// Smooth scrolling
function setupSmoothScrolling() {
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', (e) => {
            e.preventDefault();
            const target = document.querySelector(anchor.getAttribute('href'));
            
            if (target) {
                const header = document.getElementById('header');
                const offset = header ? header.offsetHeight : 0;
                
                window.scrollTo({
                    top: target.offsetTop - offset,
                    behavior: 'smooth'
                });
            }
        });
    });
}

// Setup program cards - AUTHENTICATION-ONLY routing
function setupProgramCards() {
    document.querySelectorAll('.program-card').forEach(card => {
        card.addEventListener('click', () => {
            // ONLY handle clicks if user is authenticated
            // If not authenticated, do nothing - hover effects only
            if (currentUser) {
                const program = card.dataset.subcategory;  // Changed from dataset.program
                
                const filter = document.getElementById('programFilter');
                if (filter) {
                    filter.value = program || 'all';
                    
                    // Trigger the change event to update the gallery
                    const changeEvent = new Event('change', { bubbles: true });
                    filter.dispatchEvent(changeEvent);
                    
                    // Also call filterGallery directly as backup
                    if (typeof filterGallery === 'function') {
                        filterGallery();
                    }
                }
                
                const gallery = document.getElementById('gallery');
                if (gallery) {
                    setTimeout(() => {
                        gallery.scrollIntoView({ behavior: 'smooth' });
                    }, 100);
                }
            }
            // Not authenticated: no action, no modal, no notification
        });
    });
}



// ==================== EVENT LISTENERS ====================

document.addEventListener('DOMContentLoaded', () => {
    // Initialize UI components
    setupMobileNav();
    setupSmoothScrolling();
    setupProgramCards();
        
    // Auth buttons
    const loginBtn = document.getElementById('loginBtn');
    const galleryLoginBtn = document.getElementById('galleryLoginBtn');
    const logoutBtn = document.getElementById('logoutBtn');
    
    if (loginBtn) {
        loginBtn.addEventListener('click', () => {
            showModal('loginModal');
        });
    }
    
    if (galleryLoginBtn) {
        galleryLoginBtn.addEventListener('click', () => showModal('loginModal'));
    }
    
    if (logoutBtn) {
        logoutBtn.addEventListener('click', signOutUser);
    }
    
    // Modal controls
    document.querySelectorAll('.modal-close').forEach(btn => {
        btn.addEventListener('click', (e) => {
            const modal = e.target.closest('.modal-overlay');
            if (modal) closeModal(modal.id);
        });
    });
    
    document.querySelectorAll('.modal-overlay').forEach(overlay => {
        overlay.addEventListener('click', (e) => {
            if (e.target === overlay) closeModal(overlay.id);
        });
    });
    
    // Login form
    const loginForm = document.getElementById('loginForm');
    if (loginForm) {
        loginForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const email = document.getElementById('loginEmail').value.trim();
            const password = document.getElementById('loginPassword').value;
            const submitBtn = document.getElementById('loginSubmit');
            
            if (!email || !password) {
                showNotification('Please fill in all fields', 'error');
                return;
            }
            
            const originalText = submitBtn.textContent;
            submitBtn.textContent = 'Signing In...';
            submitBtn.disabled = true;
            
            try {
                await signInWithEmail(email, password);
                showNotification('Successfully signed in!');
            } catch (error) {
                handleAuthError(error);
            } finally {
                submitBtn.textContent = originalText;
                submitBtn.disabled = false;
            }
        });
    }
    
    // Notification close
    const notificationClose = document.getElementById('notificationClose');
    if (notificationClose) {
        notificationClose.addEventListener('click', () => {
            document.getElementById('notification')?.classList.remove('show');
        });
    }
    
    // ==================== CAREER FORM EVENT LISTENERS ====================
    
    // Career Modal Controls
    const careersBtn = document.getElementById('careersBtn');
    const careerModalClose = document.getElementById('careerModalClose');
    const careerForm = document.getElementById('careerForm');
    
    // Open Career Modal
    if (careersBtn) {
        careersBtn.addEventListener('click', (e) => {
            e.preventDefault();
            showModal('careerModal');
        });
    }
    
    // Close Career Modal
    if (careerModalClose) {
        careerModalClose.addEventListener('click', () => {
            closeModal('careerModal');
        });
    }
    
    // ========== PHONE NUMBER FORMATTING ==========
    const phoneInput = document.getElementById('careerPhone');
    if (phoneInput) {
        phoneInput.addEventListener('input', (e) => {
            const formatted = formatPhoneNumber(e.target.value);
            e.target.value = formatted;
            
            // Clear error styling when user types
            if (e.target.style.borderColor === 'rgb(244, 67, 54)') {
                e.target.style.borderColor = '#e0e0e0';
            }
        });
    }
    
    // ========== FILE UPLOAD HANDLING (OPTIONAL) ==========
    const fileInput = document.getElementById('resumeFile');
    const fileNameDisplay = document.getElementById('fileName');
    
    if (fileInput && fileNameDisplay) {
        // Handle file selection (click or programmatic)
        fileInput.addEventListener('change', (e) => {
            const file = e.target.files[0];
            
            if (file) {
                // Validate file
                const validation = validateResumeFile(file);
                
                if (validation.valid) {
                    // Show file name and size
                    const sizeMB = (file.size / (1024 * 1024)).toFixed(2);
                    fileNameDisplay.textContent = `${file.name} (${sizeMB} MB)`;
                    fileNameDisplay.style.color = '#4caf50';
                    
                    // Add success styling to label
                    const fileUploadLabel = document.querySelector('.file-upload-label');
                    if (fileUploadLabel) {
                        fileUploadLabel.classList.add('success');
                    }
                    
                    // Clear error styling
                    fileInput.style.borderColor = '#e0e0e0';
                } else {
                    // Show error
                    fileNameDisplay.textContent = validation.error;
                    fileNameDisplay.style.color = '#f44336';
                    fileInput.style.borderColor = '#f44336';
                    showNotification(validation.error, 'error');
                    
                    // Clear the file input
                    fileInput.value = '';
                }
            } else {
                // No file selected
                fileNameDisplay.textContent = 'No file selected';
                fileNameDisplay.style.color = '#666';
                
                const fileUploadLabel = document.querySelector('.file-upload-label');
                if (fileUploadLabel) {
                    fileUploadLabel.classList.remove('success');
                }
            }
        });
        
        // ========== DRAG AND DROP SUPPORT ==========
        const fileUploadLabel = document.querySelector('.file-upload-label');
        
        if (fileUploadLabel) {
            // Prevent default drag behaviors
            ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
                fileUploadLabel.addEventListener(eventName, (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                }, false);
            });
            
            // Highlight drop area when file is dragged over
            ['dragenter', 'dragover'].forEach(eventName => {
                fileUploadLabel.addEventListener(eventName, () => {
                    fileUploadLabel.classList.add('drag-over');
                }, false);
            });
            
            // Remove highlight when drag leaves
            ['dragleave', 'drop'].forEach(eventName => {
                fileUploadLabel.addEventListener(eventName, () => {
                    fileUploadLabel.classList.remove('drag-over');
                }, false);
            });
            
            // Handle dropped files
            fileUploadLabel.addEventListener('drop', (e) => {
                const droppedFiles = e.dataTransfer.files;
                
                if (droppedFiles.length > 0) {
                    // Only take the first file
                    const dataTransfer = new DataTransfer();
                    dataTransfer.items.add(droppedFiles[0]);
                    fileInput.files = dataTransfer.files;
                    
                    // Trigger change event to validate
                    fileInput.dispatchEvent(new Event('change'));
                }
            }, false);
        }
    }
    
    // ========== REAL-TIME VALIDATION FOR OTHER FIELDS ==========
    if (careerForm) {
        const careerFormFields = careerForm.querySelectorAll('input:not([type="file"]), select, textarea');
        
        careerFormFields.forEach(field => {
            // Validate on blur (when user leaves field)
            field.addEventListener('blur', () => {
                if (field.hasAttribute('required') && !field.value.trim()) {
                    field.style.borderColor = '#f44336';
                } else if (field.type === 'email' && field.value.trim()) {
                    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                    field.style.borderColor = emailRegex.test(field.value.trim()) ? '#e0e0e0' : '#f44336';
                } else {
                    field.style.borderColor = '#e0e0e0';
                }
            });
            
            // Clear error styling when user starts typing
            field.addEventListener('input', () => {
                if (field.style.borderColor === 'rgb(244, 67, 54)') {
                    field.style.borderColor = '#e0e0e0';
                }
            });
        });
    }
    
    // ========== CAREER FORM SUBMISSION (OPTIONAL RESUME) ==========
    if (careerForm) {
        careerForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            
            // Validate form
            if (!validateCareerForm()) {
                return;
            }
            
            // Get form data
            const formData = new FormData(careerForm);
            const data = Object.fromEntries(formData.entries());
            
            // ‚úÖ Get resume file OR null (OPTIONAL - no error if missing)
            const resumeFile = document.getElementById('resumeFile').files[0] || null;
            
            // Remove file from data object (handled separately)
            delete data.resumeFile;
            
            // Show loading state
            const submitBtn = careerForm.querySelector('button[type="submit"]');
            const originalText = submitBtn.textContent;
            
            // Different loading message based on file presence
            submitBtn.textContent = resumeFile ? 'Uploading Resume...' : 'Submitting Application...';
            submitBtn.disabled = true;
            
            // Disable form fields during submission
            const formFields = careerForm.querySelectorAll('input, select, textarea, button');
            formFields.forEach(field => field.disabled = true);
            
            try {
                // Submit with optional file upload (can be null)
                const applicationId = await submitCareerForm(data, resumeFile);
                
                // Close career modal
                closeModal('careerModal');
                
                // Show success modal with Application ID
                showSuccessModal(applicationId);
                
                // Reset form
                careerForm.reset();
                
                // Reset file upload UI
                const fileNameDisplay = document.getElementById('fileName');
                const uploadProgress = document.getElementById('uploadProgress');
                const fileUploadLabel = document.querySelector('.file-upload-label');
                
                if (fileNameDisplay) {
                    fileNameDisplay.textContent = 'No file selected';
                    fileNameDisplay.style.color = '#666';
                }
                
                if (uploadProgress) {
                    uploadProgress.classList.add('hidden');
                    const progressFill = document.getElementById('progressFill');
                    if (progressFill) {
                        progressFill.style.width = '0%';
                    }
                }
                
                if (fileUploadLabel) {
                    fileUploadLabel.classList.remove('success');
                }
                
                // Clear all error styling
                formFields.forEach(field => {
                    field.style.borderColor = '#e0e0e0';
                });
                
            } catch (error) {
                console.error('Error submitting application:', error);
                
                // Show detailed error message
                let errorMessage = 'Error submitting application. Please try again.';
                
                if (error.code === 'storage/unauthorized') {
                    errorMessage = 'File upload permission denied. Please contact support.';
                } else if (error.code === 'storage/canceled') {
                    errorMessage = 'Upload was canceled. Please try again.';
                } else if (error.code === 'storage/unknown') {
                    errorMessage = 'Unknown error occurred. Please check your connection and try again.';
                }
                
                showNotification(errorMessage, 'error');
                
            } finally {
                // Reset button state
                submitBtn.textContent = originalText;
                submitBtn.disabled = false;
                
                // Re-enable form fields
                formFields.forEach(field => field.disabled = false);
            }
        });
    }
    
    // Success modal close button
    const successModalCloseBtn = document.getElementById('successModalClose');
    if (successModalCloseBtn) {
        successModalCloseBtn.addEventListener('click', () => {
            closeSuccessModal();
        });
    }
    
    // Close success modal when clicking outside
    const successModal = document.getElementById('successModal');
    if (successModal) {
        successModal.addEventListener('click', (e) => {
            if (e.target === successModal) {
                closeSuccessModal();
            }
        });
    }

    
    // Keyboard shortcuts
    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
            // Close all modals
            document.querySelectorAll('.modal-overlay.active').forEach(modal => {
                closeModal(modal.id);
            });
            
            // Close notification
            document.getElementById('notification')?.classList.remove('show');
        }
    });
});
async function submitContactInquiry(formData) {
    try {
        const contactData = {
            ...formData,
            submittedAt: serverTimestamp(),
            status: 'new',
            viewed: false
        };
        
        const docRef = await addDoc(collection(db, 'contact_inquiries'), contactData);
        console.log('Contact inquiry submitted with ID:', docRef.id);
        
        return docRef.id;
    } catch (error) {
        console.error('Error submitting contact inquiry:', error);
        throw error;
    }
}

window.submitContactInquiry = submitContactInquiry;
// Manual trigger for testing
window.manualStartCounters = function() {
    document.querySelectorAll('.stat-number[data-count]').forEach((element, index) => {
        const target = parseInt(element.dataset.count);
        setTimeout(() => {
            startCounter(element, target);
        }, index * 200);
    });
};
</script>

<!-- Parallax Script -->
<script>
// parallax.js
// Updated parallax.js - Compatible with Video Cycling
// Replace your existing parallax.js content with this

(function() {
    'use strict';
    
    // ===== CONFIGURATION =====
    const CONFIG = {
        // Animation smoothing (lower = smoother but more lag, higher = more responsive)
        desktop: {
            smoothing: 0.12,
            useRAFLoop: false       // Desktop uses scroll events (working fine)
        },
        mobile: {
            smoothing: 0.15,        // Mobile needs responsive smoothing
            useRAFLoop: true        // Mobile uses continuous RAF loop for inertia scrolling
        },
        mobileBreakpoint: 1024,
        parallax: {
            startTrigger: 0.1,
            endTrigger: 1.2
        }
    };
    
    // ===== STATE MANAGEMENT =====
    let state = {
        stickyApplied: false,
        isNavigatingHome: false,
        isMobile: false,
        rafId: null,
        currentScrollY: 0,
        targetScrollY: 0,
        lastScrollY: 0
    };
    
    // ===== CACHED DOM ELEMENTS =====
    let elements = {
        hero: null,
        programs: null,
        heroContent: null,
        videoContainer: null,
        heroLogo: null,
        heroActions: null,
        heroTextContainer: null,
        scrollIndicator: null,
        heroOverlay: null
    };
    
    // ===== UTILITY FUNCTIONS =====
    function isMobileDevice() {
        return window.innerWidth <= CONFIG.mobileBreakpoint || 
               /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
    }
    
    function easeOutCubic(t) {
        return 1 - Math.pow(1 - t, 3);
    }
    
    function lerp(start, end, factor) {
        return start + (end - start) * factor;
    }
    
    // ===== CACHE DOM ELEMENTS =====
    function cacheElements() {
        elements.hero = document.getElementById('home');
        elements.programs = document.getElementById('programs');
        
        if (!elements.hero) return false;
        
        elements.heroContent = elements.hero.querySelector('.hero-content');
        elements.videoContainer = elements.hero.querySelector('.video-container');
        elements.heroLogo = elements.hero.querySelector('.hero-logo');
        elements.heroActions = elements.hero.querySelector('.hero-actions');
        elements.heroTextContainer = elements.hero.querySelector('.hero-text-container');
        elements.scrollIndicator = elements.hero.querySelector('.scroll-indicator');
        elements.heroOverlay = elements.hero.querySelector('.hero-overlay');
        
        return true;
    }
    
    // ===== RESET FUNCTIONS =====
    function resetHeroToNormal() {
        if (!elements.hero) return;
        
        elements.hero.style.position = 'relative';
        elements.hero.style.top = '';
        elements.hero.style.zIndex = '';
        state.stickyApplied = false;
        
        const resetElements = [
            elements.heroContent,
            elements.videoContainer,
            elements.heroLogo,
            elements.heroActions,
            elements.heroTextContainer,
            elements.scrollIndicator,
            elements.heroOverlay
        ];
        
        resetElements.forEach(element => {
            if (element) {
                element.style.opacity = '';
                element.style.transform = '';
                element.style.filter = '';
                element.style.backgroundColor = '';
                element.style.transition = '';
            }
        });
    }
    // ===== RESET HERO ELEMENT STYLES (called when at top) =====
function resetHeroElementStyles() {
    const resetElements = [
        elements.heroContent,
        elements.videoContainer,
        elements.heroLogo,
        elements.heroActions,
        elements.heroTextContainer,
        elements.scrollIndicator,
        elements.heroOverlay
    ];
    
    resetElements.forEach(element => {
        if (element) {
            element.style.opacity = '';
            element.style.transform = '';
            element.style.filter = '';
            element.style.backgroundColor = '';
            element.style.transition = '';
        }
    });
}
    // ===== APPLY PARALLAX EFFECTS - iOS COMPATIBLE =====
function applyParallaxEffects(scrollY) {
    const windowHeight = window.innerHeight;
    
    if (state.isNavigatingHome) return;
    
    // MOBILE FIX: Skip parallax transforms on mobile/iOS
    if (state.isMobile) {
        // Only handle opacity changes on mobile, no transforms
        if (scrollY <= 2) {
            resetHeroElementStyles();
        } else if (scrollY > 10) {
            const startTrigger = windowHeight * 0.1;
            const endTrigger = windowHeight * 1.2;
            const progress = Math.max(0, Math.min(1, (scrollY - startTrigger) / (endTrigger - startTrigger)));
            
            // Mobile: Only fade elements, no transforms
            if (elements.heroLogo) {
                elements.heroLogo.style.opacity = 1 - progress;
            }
            if (elements.heroActions) {
                elements.heroActions.style.opacity = 1 - progress;
            }
            if (elements.heroTextContainer) {
                elements.heroTextContainer.style.opacity = Math.max(0, 1 - (progress * 0.8));
            }
            if (elements.scrollIndicator) {
                elements.scrollIndicator.style.opacity = Math.max(0, 1 - (progress * 1.5));
            }
        }
        return; // Skip desktop parallax logic on mobile
    }
    
    // DESKTOP PARALLAX (unchanged)
    if (scrollY <= 2 && state.stickyApplied) {
        elements.hero.style.position = 'relative';
        elements.hero.style.top = '';
        state.stickyApplied = false;
        resetHeroElementStyles();
        return;
    }
    
    if (scrollY <= 2) {
        resetHeroElementStyles();
    }
    
    if (scrollY > 2 && !state.stickyApplied) {
        elements.hero.style.position = 'sticky';
        elements.hero.style.top = '0';
        elements.hero.style.zIndex = '1';
        state.stickyApplied = true;
    }
    
    if (state.stickyApplied && scrollY > 10) {
        const startTrigger = windowHeight * CONFIG.parallax.startTrigger;
        const endTrigger = windowHeight * CONFIG.parallax.endTrigger;
        const progress = Math.max(0, Math.min(1, (scrollY - startTrigger) / (endTrigger - startTrigger)));
        const easedProgress = easeOutCubic(progress);
        
        if (progress > 0) {
            if (elements.heroContent) {
                const scale = 1 - (easedProgress * 0.02);
                elements.heroContent.style.transform = `scale(${scale})`;
                elements.heroContent.style.transition = 'none';
            }
            
            if (elements.videoContainer) {
                const scale = 1 + (easedProgress * 0.03);
                const opacity = 1 - (easedProgress * 0.3);
                elements.videoContainer.style.transform = `scale(${scale})`;
                elements.videoContainer.style.opacity = opacity;
                elements.videoContainer.style.transition = 'none';
            }
            
            if (elements.heroLogo) {
                const opacity = 1 - easedProgress;
                const scale = 1 - (easedProgress * 0.03);
                elements.heroLogo.style.opacity = opacity;
                elements.heroLogo.style.transform = `scale(${scale})`;
                elements.heroLogo.style.transition = 'none';
            }
            
            if (elements.heroActions) {
                const opacity = 1 - easedProgress;
                const scale = 1 - (easedProgress * 0.02);
                elements.heroActions.style.opacity = opacity;
                elements.heroActions.style.transform = `scale(${scale})`;
                elements.heroActions.style.transition = 'none';
            }
            
            if (elements.heroTextContainer) {
                const scale = 1 - (easedProgress * 0.02);
                const opacity = 1 - (easedProgress * 0.8);
                elements.heroTextContainer.style.transform = `scale(${scale})`;
                elements.heroTextContainer.style.opacity = Math.max(0, opacity);
                elements.heroTextContainer.style.transition = 'none';
            }
            
            if (elements.scrollIndicator) {
                const opacity = 1 - (easedProgress * 1.5);
                const scale = 1 - (easedProgress * 0.05);
                elements.scrollIndicator.style.opacity = Math.max(0, opacity);
                elements.scrollIndicator.style.transform = `translateX(-50%) scale(${scale})`;
                elements.scrollIndicator.style.transition = 'none';
            }
            
            if (elements.heroOverlay) {
                const overlayOpacity = 0.5 + (easedProgress * 0.3);
                elements.heroOverlay.style.backgroundColor = `rgba(0, 0, 0, ${overlayOpacity})`;
                elements.heroOverlay.style.transition = 'none';
            }
        }
    }
}
    
    // ===== MOBILE: CONTINUOUS RAF LOOP =====
    // This ensures smooth updates even during scroll inertia on mobile
    function mobileRAFLoop() {
        if (!state.isMobile) return;
        
        // Get current scroll position
        state.targetScrollY = window.pageYOffset || document.documentElement.scrollTop || 0;
        
        // Interpolate for smooth animation (key for mobile inertia scrolling)
        const smoothing = CONFIG.mobile.smoothing;
        state.currentScrollY = lerp(state.currentScrollY, state.targetScrollY, smoothing);
        
        // Only apply if there's meaningful change
        if (Math.abs(state.currentScrollY - state.lastScrollY) > 0.1) {
            applyParallaxEffects(state.currentScrollY);
            state.lastScrollY = state.currentScrollY;
        }
        
        // Continue the loop
        state.rafId = requestAnimationFrame(mobileRAFLoop);
    }
    
    // ===== DESKTOP: SCROLL EVENT HANDLER =====
    function desktopScrollHandler() {
        if (state.isMobile) return;
        
        const scrollY = window.pageYOffset || document.documentElement.scrollTop || 0;
        applyParallaxEffects(scrollY);
    }
    
    // ===== SETUP SCROLL LISTENERS =====
    function setupScrollListeners() {
        state.isMobile = isMobileDevice();
        
        if (state.isMobile && CONFIG.mobile.useRAFLoop) {
            // MOBILE: Use continuous RAF loop for smooth updates during inertia
            console.log('üì± Mobile parallax: Using RAF loop');
            
            state.currentScrollY = window.pageYOffset || 0;
            state.targetScrollY = state.currentScrollY;
            state.lastScrollY = state.currentScrollY;
            
            // Start the RAF loop
            if (state.rafId) cancelAnimationFrame(state.rafId);
            state.rafId = requestAnimationFrame(mobileRAFLoop);
            
            // Listen for scroll and touch for immediate response
            window.addEventListener('scroll', () => {
                state.targetScrollY = window.pageYOffset || document.documentElement.scrollTop || 0;
            }, { passive: true });
            
            document.addEventListener('touchmove', () => {
                state.targetScrollY = window.pageYOffset || document.documentElement.scrollTop || 0;
            }, { passive: true });
            
            document.addEventListener('touchend', () => {
                state.targetScrollY = window.pageYOffset || document.documentElement.scrollTop || 0;
            }, { passive: true });
            
        } else {
            // DESKTOP: Use optimized scroll events (original behavior - working fine)
            console.log('üñ•Ô∏è Desktop parallax: Using scroll events');
            
            let ticking = false;
            
            window.addEventListener('scroll', () => {
                if (!ticking) {
                    requestAnimationFrame(() => {
                        desktopScrollHandler();
                        ticking = false;
                    });
                    ticking = true;
                }
            }, { passive: true });
        }
    }
    
    // ===== HANDLE RESIZE =====
    function handleResize() {
        const wasMobile = state.isMobile;
        state.isMobile = isMobileDevice();
        
        if (wasMobile !== state.isMobile) {
            console.log('üìê Device type changed, reinitializing parallax');
            
            if (state.rafId && !state.isMobile) {
                cancelAnimationFrame(state.rafId);
                state.rafId = null;
            }
            
            if (state.isMobile && CONFIG.mobile.useRAFLoop) {
                state.currentScrollY = window.pageYOffset || 0;
                state.targetScrollY = state.currentScrollY;
                state.rafId = requestAnimationFrame(mobileRAFLoop);
            }
        }
    }
    
    // ===== SETUP HOME NAVIGATION =====
    function setupHomeNavigation() {
        document.addEventListener('click', (e) => {
            const navLink = e.target.closest('a[href^="#"]');
            if (navLink) {
                const targetId = navLink.getAttribute('href');
                
                if (targetId === '#home') {
                    console.log('üè† Home navigation clicked');
                    state.isNavigatingHome = true;
                    
                    resetHeroToNormal();
                    e.preventDefault();
                    
                    window.scrollTo({
                        top: 0,
                        behavior: 'smooth'
                    });
                    
                    setTimeout(() => {
                        state.isNavigatingHome = false;
                        console.log('‚úÖ Home navigation complete');
                        
                        const scrollY = window.pageYOffset || 0;
                        if (state.isMobile) {
                            state.currentScrollY = scrollY;
                            state.targetScrollY = scrollY;
                        }
                        applyParallaxEffects(scrollY);
                    }, 1000);
                }
            }
        });
    }
    
    // ===== SETUP PROGRAMS SECTION =====
    function setupProgramsSection() {
        if (!elements.programs) return;
        
        elements.programs.style.position = 'relative';
        elements.programs.style.zIndex = '10';
        elements.programs.style.backgroundColor = '#f8f9fa';
        elements.programs.style.borderRadius = '24px 24px 0 0';
        elements.programs.style.boxShadow = '0 -20px 40px rgba(0, 0, 0, 0.1)';
        
        const sectionsAfterPrograms = ['gallery', 'about', 'testimonials', 'contact'];
        sectionsAfterPrograms.forEach(sectionId => {
            const section = document.getElementById(sectionId);
            if (section) {
                section.style.position = 'relative';
                section.style.zIndex = '10';
            }
        });
        
        const footer = document.querySelector('.footer');
        if (footer) {
            footer.style.position = 'relative';
            footer.style.zIndex = '10';
        }
    }
    
    // ===== MAIN INITIALIZATION =====
    function initParallax() {
        console.log('üöÄ Initializing optimized parallax...');
        
        if (!cacheElements()) {
            console.error('‚ùå Hero section not found');
            return;
        }
        
        if (!elements.programs) {
            console.error('‚ùå Programs section not found');
            return;
        }
        
        elements.hero.style.position = 'sticky';
        elements.hero.style.top = '0';
        elements.hero.style.zIndex = '1';
        state.stickyApplied = true;
        
        setupProgramsSection();
        setupScrollListeners();
        setupHomeNavigation();
        
        let resizeTimeout;
        window.addEventListener('resize', () => {
            clearTimeout(resizeTimeout);
            resizeTimeout = setTimeout(handleResize, 250);
        }, { passive: true });
        
        const initialScrollY = window.pageYOffset || 0;
        if (state.isMobile) {
            state.currentScrollY = initialScrollY;
            state.targetScrollY = initialScrollY;
        }
        applyParallaxEffects(initialScrollY);
        
        console.log('‚úÖ Parallax ready -', state.isMobile ? 'Mobile' : 'Desktop', 'mode');
    }
    
    // ===== WAIT FOR ELEMENTS AND INITIALIZE =====
    function waitForElementsAndInit() {
        const hero = document.getElementById('home');
        const programs = document.getElementById('programs');
        
        if (hero && programs) {
            initParallax();
        } else {
            setTimeout(waitForElementsAndInit, 100);
        }
    }
    
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', waitForElementsAndInit);
    } else {
        waitForElementsAndInit();
    }
    
    setTimeout(waitForElementsAndInit, 1000);
    
    window.addEventListener('beforeunload', () => {
        if (state.rafId) {
            cancelAnimationFrame(state.rafId);
        }
    });
    
    // Debug function
    window.debugParallax = function() {
        console.log('===== PARALLAX DEBUG =====');
        console.log('Is Mobile:', state.isMobile);
        console.log('Sticky Applied:', state.stickyApplied);
        console.log('RAF ID:', state.rafId);
        console.log('Current/Target Scroll:', state.currentScrollY, '/', state.targetScrollY);
    };
    
})();
</script>
<!-- Contact Form Script (add this after the parallax script) -->
<script>
// Contact Form Functionality - DYNAMIC ROLE-BASED FORMS WITH CHECKBOX SUPPORT
document.addEventListener('DOMContentLoaded', () => {
    const educatorRole = document.getElementById('educatorRole');
    const educatorFormFields = document.getElementById('educatorFormFields');
    const parentFormFields = document.getElementById('parentFormFields');
    const roleSelectPrompt = document.getElementById('roleSelectPrompt');
    const contactForm = document.getElementById('contactForm');

    // Role selection - Show appropriate form
    if (educatorRole) {
        educatorRole.addEventListener('change', (e) => {
            const value = e.target.value;
            
            // Hide all forms first
            if (educatorFormFields) educatorFormFields.style.display = 'none';
            if (parentFormFields) parentFormFields.style.display = 'none';
            if (roleSelectPrompt) roleSelectPrompt.style.display = 'none';
            
            // Clear required attributes from hidden forms
            clearFormRequirements();
            
            // Clear any previous checkbox selections
            clearAllCheckboxes();
            
            if (value === 'education-professional') {
                if (educatorFormFields) {
                    educatorFormFields.style.display = 'block';
                    educatorFormFields.classList.add('active');
                    setEducatorFieldsRequired(true);
                }
            } else if (value === 'parent') {
                if (parentFormFields) {
                    parentFormFields.style.display = 'block';
                    parentFormFields.classList.add('active');
                    setParentFieldsRequired(true);
                }
            } else {
                // Show prompt if nothing selected
                if (roleSelectPrompt) roleSelectPrompt.style.display = 'block';
            }
        });
    }
    
    // Clear all checkbox selections
    function clearAllCheckboxes() {
        document.querySelectorAll('input[name="eduPrograms"]').forEach(cb => cb.checked = false);
        document.querySelectorAll('input[name="parentPrograms"]').forEach(cb => cb.checked = false);
        
        // Hide any error messages
        const eduError = document.getElementById('eduProgramsError');
        if (eduError) eduError.style.display = 'none';
    }
    
    // Clear all required attributes
    function clearFormRequirements() {
        // Educator fields
        const eduFields = ['eduFirstName', 'eduLastName', 'eduEmail', 'organizationName', 'organizationType', 'eduPosition'];
        eduFields.forEach(id => {
            const field = document.getElementById(id);
            if (field) field.removeAttribute('required');
        });
        
        // Parent fields
        const parentFields = ['parentFirstName', 'parentLastName', 'parentEmail', 'childSchool', 'inquiryType'];
        parentFields.forEach(id => {
            const field = document.getElementById(id);
            if (field) field.removeAttribute('required');
        });
    }
    
    // Set educator fields as required
    function setEducatorFieldsRequired(required) {
        const fields = ['eduFirstName', 'eduLastName', 'eduEmail', 'organizationName', 'organizationType', 'eduPosition'];
        fields.forEach(id => {
            const field = document.getElementById(id);
            if (field) {
                if (required) {
                    field.setAttribute('required', 'required');
                } else {
                    field.removeAttribute('required');
                }
            }
        });
        // Note: eduPrograms is now checkboxes, handled separately in validation
    }
    
    // Set parent fields as required
    function setParentFieldsRequired(required) {
        const fields = ['parentFirstName', 'parentLastName', 'parentEmail', 'childSchool', 'inquiryType'];
        fields.forEach(id => {
            const field = document.getElementById(id);
            if (field) {
                if (required) {
                    field.setAttribute('required', 'required');
                } else {
                    field.removeAttribute('required');
                }
            }
        });
    }

    // Form validation
    function validateForm() {
        const role = educatorRole ? educatorRole.value : '';
        
        if (!role) {
            showNotification('Please select your role to continue.', 'error');
            return false;
        }
        
        let requiredFields = [];
        let isValid = true;
        const errors = [];
        
        if (role === 'education-professional') {
            requiredFields = [
                { id: 'eduFirstName', label: 'First Name' },
                { id: 'eduLastName', label: 'Last Name' },
                { id: 'eduEmail', label: 'Email Address' },
                { id: 'organizationName', label: 'School/District Name' },
                { id: 'organizationType', label: 'Organization Type' },
                { id: 'eduPosition', label: 'Your Position' }
            ];
            
            // Check if at least one program is selected (checkboxes)
            const eduProgramsChecked = document.querySelectorAll('input[name="eduPrograms"]:checked');
            const eduProgramsGrid = document.getElementById('eduProgramsGrid');
            const eduProgramsError = document.getElementById('eduProgramsError');
            
            if (eduProgramsChecked.length === 0) {
                if (eduProgramsError) eduProgramsError.style.display = 'block';
                if (eduProgramsGrid) eduProgramsGrid.style.borderColor = '#f44336';
                errors.push('Please select at least one program of interest');
                isValid = false;
            } else {
                if (eduProgramsError) eduProgramsError.style.display = 'none';
                if (eduProgramsGrid) eduProgramsGrid.style.borderColor = '#e0e0e0';
            }
            
        } else if (role === 'parent') {
            requiredFields = [
                { id: 'parentFirstName', label: 'First Name' },
                { id: 'parentLastName', label: 'Last Name' },
                { id: 'parentEmail', label: 'Email Address' },
                { id: 'childSchool', label: "Child's School Name" },
                { id: 'inquiryType', label: 'How Can We Help You' }
            ];
            // Parent programs are optional, no validation needed
        }
        
        // Validate required text/select fields
        requiredFields.forEach(fieldInfo => {
            const field = document.getElementById(fieldInfo.id);
            if (field) {
                const value = field.value.trim();
                
                if (!value) {
                    field.style.borderColor = '#f44336';
                    errors.push(`${fieldInfo.label} is required`);
                    isValid = false;
                } else {
                    field.style.borderColor = '#e0e0e0';
                }
            }
        });
        
        // Validate email format
        const emailFieldId = role === 'education-professional' ? 'eduEmail' : 'parentEmail';
        const emailField = document.getElementById(emailFieldId);
        if (emailField) {
            const emailValue = emailField.value.trim();
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            
            if (emailValue && !emailRegex.test(emailValue)) {
                emailField.style.borderColor = '#f44336';
                errors.push('Please enter a valid email address');
                isValid = false;
            }
        }
        
        // Show validation errors
        if (!isValid) {
            showNotification(errors[0], 'error');
        }
        
        return isValid;
    }

    // Form submission
    if (contactForm) {
        contactForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            
            if (!validateForm()) {
                return;
            }
            
            const role = educatorRole.value;
            
            // Collect form data based on role
            let formData = {
                role: role,
                submittedAt: new Date().toISOString()
            };
            
            if (role === 'education-professional') {
                // Collect selected programs as array (checkboxes)
                const selectedEduPrograms = Array.from(
                    document.querySelectorAll('input[name="eduPrograms"]:checked')
                ).map(cb => cb.value);
                
                formData = {
                    ...formData,
                    firstName: document.getElementById('eduFirstName')?.value || '',
                    lastName: document.getElementById('eduLastName')?.value || '',
                    email: document.getElementById('eduEmail')?.value || '',
                    phone: document.getElementById('eduPhone')?.value || '',
                    organization: document.getElementById('organizationName')?.value || '',
                    organizationType: document.getElementById('organizationType')?.value || '',
                    position: document.getElementById('eduPosition')?.value || '',
                    studentCount: document.getElementById('studentCount')?.value || '',
                    gradeLevel: document.getElementById('gradeLevel')?.value || '',
                    programs: selectedEduPrograms, // Now an array
                    timeline: document.getElementById('implementationTimeline')?.value || '',
                    message: document.getElementById('eduMessage')?.value || '',
                    howHeard: document.getElementById('howHeard')?.value || ''
                };
            } else if (role === 'parent') {
                // Collect selected programs as array (checkboxes)
                const selectedParentPrograms = Array.from(
                    document.querySelectorAll('input[name="parentPrograms"]:checked')
                ).map(cb => cb.value);
                
                formData = {
                    ...formData,
                    firstName: document.getElementById('parentFirstName')?.value || '',
                    lastName: document.getElementById('parentLastName')?.value || '',
                    email: document.getElementById('parentEmail')?.value || '',
                    phone: document.getElementById('parentPhone')?.value || '',
                    childSchool: document.getElementById('childSchool')?.value || '',
                    childGrade: document.getElementById('childGrade')?.value || '',
                    schoolDistrict: document.getElementById('schoolDistrict')?.value || '',
                    parentRole: document.getElementById('parentRole')?.value || '',
                    programs: selectedParentPrograms, // Now an array
                    inquiryType: document.getElementById('inquiryType')?.value || '',
                    message: document.getElementById('parentMessage')?.value || ''
                };
            }
            
            // Show loading state
            const submitBtn = contactForm.querySelector('button[type="submit"]');
            const originalText = submitBtn.textContent;
            submitBtn.textContent = 'Sending...';
            submitBtn.disabled = true;
            
            try {
                // Submit to Firebase contact_inquiries collection
                const inquiryId = await window.submitContactInquiry(formData);
                
                // Show success message based on role
                if (role === 'education-professional') {
                    showNotification('Thank you! A CSA representative will contact you within 24-48 hours. Ref: ' + inquiryId.slice(-6).toUpperCase());
                } else {
                    showNotification('Thank you for your inquiry! We\'ll be in touch soon. Ref: ' + inquiryId.slice(-6).toUpperCase());
                }
                
                // Reset form
                contactForm.reset();
                clearAllCheckboxes();
                if (educatorFormFields) educatorFormFields.style.display = 'none';
                if (parentFormFields) parentFormFields.style.display = 'none';
                if (roleSelectPrompt) roleSelectPrompt.style.display = 'block';
                
                // Clear any error styling
                contactForm.querySelectorAll('input, select, textarea').forEach(field => {
                    field.style.borderColor = '#e0e0e0';
                });
                
                // Reset checkbox grid borders
                const eduGrid = document.getElementById('eduProgramsGrid');
                const parentGrid = document.getElementById('parentProgramsGrid');
                if (eduGrid) eduGrid.style.borderColor = '#e0e0e0';
                if (parentGrid) parentGrid.style.borderColor = '#e0e0e0';
                
            } catch (error) {
                console.error('Form submission error:', error);
                showNotification('There was an error sending your message. Please try again.', 'error');
            } finally {
                // Reset button state
                submitBtn.textContent = originalText;
                submitBtn.disabled = false;
            }
        });
    }

    // Real-time form field validation
    contactForm?.querySelectorAll('input:not([type="checkbox"]), select, textarea').forEach(field => {
        field.addEventListener('blur', () => {
            if (field.hasAttribute('required') && !field.value.trim()) {
                field.style.borderColor = '#f44336';
            } else if (field.type === 'email' && field.value.trim()) {
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                field.style.borderColor = emailRegex.test(field.value.trim()) ? '#e0e0e0' : '#f44336';
            } else {
                field.style.borderColor = '#e0e0e0';
            }
        });
        
        field.addEventListener('input', () => {
            if (field.style.borderColor === 'rgb(244, 67, 54)') {
                field.style.borderColor = '#e0e0e0';
            }
        });
    });
    
    // Clear error styling when checkbox is selected (for educator programs)
    document.querySelectorAll('input[name="eduPrograms"]').forEach(checkbox => {
        checkbox.addEventListener('change', () => {
            const checkedCount = document.querySelectorAll('input[name="eduPrograms"]:checked').length;
            const eduProgramsGrid = document.getElementById('eduProgramsGrid');
            const eduProgramsError = document.getElementById('eduProgramsError');
            
            if (checkedCount > 0) {
                if (eduProgramsError) eduProgramsError.style.display = 'none';
                if (eduProgramsGrid) eduProgramsGrid.style.borderColor = '#e0e0e0';
            }
        });
    });

    // Set initial state - show prompt
    if (roleSelectPrompt) roleSelectPrompt.style.display = 'block';
    if (educatorFormFields) educatorFormFields.style.display = 'none';
    if (parentFormFields) parentFormFields.style.display = 'none';
});

// Select/Clear all helper functions for checkboxes
function selectAllPrograms(name) {
    document.querySelectorAll(`input[name="${name}"]`).forEach(cb => {
        cb.checked = true;
    });
    
    // Clear error if educator programs
    if (name === 'eduPrograms') {
        const eduProgramsGrid = document.getElementById('eduProgramsGrid');
        const eduProgramsError = document.getElementById('eduProgramsError');
        if (eduProgramsError) eduProgramsError.style.display = 'none';
        if (eduProgramsGrid) eduProgramsGrid.style.borderColor = '#e0e0e0';
    }
}

function clearAllPrograms(name) {
    document.querySelectorAll(`input[name="${name}"]`).forEach(cb => {
        cb.checked = false;
    });
}

// Notification function (if not already defined)
if (typeof showNotification === 'undefined') {
    function showNotification(message, type = 'success') {
        const notification = document.getElementById('notification');
        const notificationText = document.getElementById('notificationText');
        
        if (notificationText) notificationText.textContent = message;
        if (notification) {
            notification.className = `notification ${type}`;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 5000);
        }
    }
}

// Professional Active Section Tracking
(function() {
    'use strict';
    
    let isInitialized = false;
    let currentSection = null;
    
    function initSectionTracking() {
        if (isInitialized) return;
        
        const navLinks = document.querySelectorAll('.nav-link[href^="#"]');
        const sections = document.querySelectorAll('section[id]');
        
        if (!navLinks.length || !sections.length) {
            setTimeout(initSectionTracking, 200);
            return;
        }
        
        isInitialized = true;
        
        function setActiveSection(sectionId) {
            if (currentSection === sectionId) return;
            
            navLinks.forEach(link => link.classList.remove('active'));
            
            const activeLink = document.querySelector(`.nav-link[href="#${sectionId}"]`);
            if (activeLink) {
                activeLink.classList.add('active');
                currentSection = sectionId;
            }
        }
        
        function getCurrentSection() {
            const scrollPos = window.pageYOffset + 100;
            
            if (scrollPos < 200) return 'home';
            
            for (let i = sections.length - 1; i >= 0; i--) {
                const section = sections[i];
                if (section.offsetTop <= scrollPos) {
                    return section.id;
                }
            }
            return 'home';
        }
        
        let scrollTimer;
        function handleScroll() {
            if (scrollTimer) clearTimeout(scrollTimer);
            scrollTimer = setTimeout(() => {
                const activeSection = getCurrentSection();
                setActiveSection(activeSection);
            }, 10);
        }
        
        navLinks.forEach(link => {
            link.addEventListener('click', function(e) {
                const href = this.getAttribute('href');
                if (!href.startsWith('#')) return;
                
                e.preventDefault();
                const targetId = href.substring(1);
                const targetSection = document.getElementById(targetId);
                
                if (targetSection) {
                    setActiveSection(targetId);
                    
                    // Close mobile menu
                    const navMenu = document.getElementById('navMenu');
                    const navToggle = document.getElementById('navToggle');
                    if (navMenu && navMenu.classList.contains('active')) {
                        navMenu.classList.remove('active');
                        if (navToggle) navToggle.classList.remove('active');
                        document.body.style.overflow = '';
                    }
                    
                    const header = document.getElementById('header');
                    const offset = header ? header.offsetHeight + 20 : 80;
                    const targetTop = targetId === 'home' ? 0 : targetSection.offsetTop - offset;
                    
                    window.scrollTo({
                        top: Math.max(0, targetTop),
                        behavior: 'smooth'
                    });
                }
            });
        });
        
        window.addEventListener('scroll', handleScroll, { passive: true });
        
        // Initial setup
        setTimeout(() => {
            const initialSection = getCurrentSection();
            setActiveSection(initialSection);
        }, 100);
    }
    
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initSectionTracking);
    } else {
        initSectionTracking();
    }
    
    setTimeout(initSectionTracking, 500);
})();
</script>
<script>
/**
 * BULLETPROOF VIDEO CONTROLLER - iOS Compatible
 * Handles rapid user input, prevents race conditions, memory efficient
 */
(function() {
    'use strict';
    
    const CONFIG = {
        videoFiles: [
            './videos/herobackground.mp4',
            './videos/video2.mp4',
            './videos/video3.mp4',
            './videos/video4.mp4',
            './videos/video5.mp4',
            './videos/video6.mp4',
            './videos/video7.mp4'
        ],
        videoDuration: { desktop: 8000, mobile: 6000 },
        transitionDuration: { desktop: 800, mobile: 300 },
        userInputDebounce: 250,
        maxTransitionTime: 2000,
        preloadNext: true
    };
    
    const state = {
        currentIndex: 0,
        isTransitioning: false,
        isPaused: false,
        isMobile: false,
        isInitialized: false,
        pendingIndex: null,
        lastUserInput: 0,
        autoPlayTimer: null,
        transitionTimer: null,
        safetyTimer: null,
        debounceTimer: null
    };
    
    let videoContainer = null;
    let videoControls = null;
    let videos = [];
    let indicators = [];
    
    function isMobileDevice() {
        return window.innerWidth <= 768 || 
            /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ||
            ('ontouchstart' in window);
    }
    
    function isIOS() {
        return /iPad|iPhone|iPod/.test(navigator.userAgent) || 
            (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1);
    }
    
    function getConfig(key) {
        const value = CONFIG[key];
        if (typeof value === 'object' && value.desktop !== undefined) {
            return state.isMobile ? value.mobile : value.desktop;
        }
        return value;
    }
    
    function now() { return performance.now(); }
    
    function init() {
        videoContainer = document.getElementById('videoContainer');
        videoControls = document.getElementById('videoControls');
        
        if (!videoContainer) {
            console.error('Video container not found');
            return;
        }
        
        state.isMobile = isMobileDevice();
        console.log('Video Controller:', state.isMobile ? 'Mobile' : 'Desktop');
        
        videoContainer.innerHTML = '';
        createVideos();
        createIndicators();
        setupEvents();
        activateVideo(0, true);
        scheduleNextVideo();
        state.isInitialized = true;
    }
    
    function createVideos() {
        CONFIG.videoFiles.forEach((src, index) => {
            const video = document.createElement('video');
            video.className = 'hero-video';
            video.muted = true;
            video.playsInline = true;
            video.setAttribute('playsinline', 'true');
            video.setAttribute('webkit-playsinline', 'true');
            video.loop = false;
            video.controls = false;
            video.preload = index === 0 ? 'auto' : 'none';
            
            if (isIOS()) {
                video.setAttribute('x-webkit-airplay', 'deny');
                video.setAttribute('disableRemotePlayback', 'true');
            }
            
            const transition = getConfig('transitionDuration');
            Object.assign(video.style, {
                position: 'absolute',
                top: '50%',
                left: '50%',
                minWidth: '100%',
                minHeight: '100%',
                width: 'auto',
                height: 'auto',
                transform: 'translate(-50%, -50%) translateZ(0)',
                WebkitTransform: 'translate(-50%, -50%) translateZ(0)',
                objectFit: 'cover',
                opacity: '0',
                zIndex: '1',
                transition: `opacity ${transition}ms ease`,
                WebkitTransition: `opacity ${transition}ms ease`,
                backfaceVisibility: 'hidden',
                WebkitBackfaceVisibility: 'hidden'
            });
            
            const source = document.createElement('source');
            source.src = src;
            source.type = 'video/mp4';
            video.appendChild(source);
            
            video.addEventListener('ended', () => {
                if (index === state.currentIndex && !state.isTransitioning && !state.isPaused) {
                    requestVideoChange(getNextIndex());
                }
            });
            
            video.addEventListener('error', () => {
                if (index === state.currentIndex) {
                    setTimeout(() => forceVideoChange(getNextIndex()), 500);
                }
            });
            
            videoContainer.appendChild(video);
            videos.push(video);
        });
        
        if (videos[0]) {
            videos[0].classList.add('active');
            videos[0].style.opacity = '1';
            videos[0].style.zIndex = '2';
            videos[0].load();
        }
    }
    
    function createIndicators() {
        if (!videoControls || CONFIG.videoFiles.length <= 1) return;
        
        videoControls.innerHTML = '';
        indicators = [];
        
        CONFIG.videoFiles.forEach((_, index) => {
            const indicator = document.createElement('div');
            indicator.className = 'video-indicator';
            if (index === 0) indicator.classList.add('active');
            
            indicator.addEventListener('click', (e) => {
                e.preventDefault();
                e.stopPropagation();
                requestVideoChange(index);
            });
            
            indicator.addEventListener('touchend', (e) => {
                e.preventDefault();
                e.stopPropagation();
                requestVideoChange(index);
            }, { passive: false });
            
            videoControls.appendChild(indicator);
            indicators.push(indicator);
        });
    }
    
    function setupEvents() {
        document.addEventListener('keydown', (e) => {
            if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') return;
            if (e.key === 'ArrowRight') { e.preventDefault(); requestVideoChange(getNextIndex()); }
            if (e.key === 'ArrowLeft') { e.preventDefault(); requestVideoChange(getPrevIndex()); }
            if (e.key === ' ') { e.preventDefault(); togglePause(); }
        });
        
        document.addEventListener('visibilitychange', () => {
            if (document.hidden) pausePlayback();
            else resumePlayback();
        });
        
        let resizeTimer;
        window.addEventListener('resize', () => {
            clearTimeout(resizeTimer);
            resizeTimer = setTimeout(() => {
                state.isMobile = isMobileDevice();
            }, 250);
        });
    }
    
    // CORE: Debounced request handler - prevents rapid-fire breaking
    function requestVideoChange(targetIndex) {
        if (targetIndex < 0 || targetIndex >= videos.length) targetIndex = 0;
        if (targetIndex === state.currentIndex && !state.isTransitioning) return;
        
        const currentTime = now();
        state.pendingIndex = targetIndex;
        
        if (state.debounceTimer) clearTimeout(state.debounceTimer);
        
        if (state.isTransitioning) {
            console.log('Queued:', targetIndex);
            return;
        }
        
        const timeSinceLastInput = currentTime - state.lastUserInput;
        if (timeSinceLastInput < CONFIG.userInputDebounce) {
            state.debounceTimer = setTimeout(() => {
                processVideoChange(state.pendingIndex);
            }, CONFIG.userInputDebounce - timeSinceLastInput);
            return;
        }
        
        state.lastUserInput = currentTime;
        processVideoChange(targetIndex);
    }
    
    function processVideoChange(targetIndex) {
        if (targetIndex === state.currentIndex) {
            checkPendingRequests();
            return;
        }
        
        if (state.isTransitioning) {
            state.pendingIndex = targetIndex;
            return;
        }
        
        console.log('Switching:', state.currentIndex, '‚Üí', targetIndex);
        
        state.isTransitioning = true;
        state.pendingIndex = null;
        clearTimeout(state.autoPlayTimer);
        
        const currentVideo = videos[state.currentIndex];
        const nextVideo = videos[targetIndex];
        
        if (!currentVideo || !nextVideo) {
            state.isTransitioning = false;
            return;
        }
        
        clearTimeout(state.safetyTimer);
        state.safetyTimer = setTimeout(() => {
            console.warn('Safety timer: forcing complete');
            completeTransition(currentVideo, nextVideo, targetIndex);
        }, CONFIG.maxTransitionTime);
        
        // Prepare and play next video
        if (nextVideo.preload === 'none' || nextVideo.readyState < 2) {
            nextVideo.preload = 'auto';
            nextVideo.load();
        }
        nextVideo.currentTime = 0;
        
        const doTransition = () => {
            const playPromise = nextVideo.play();
            if (playPromise !== undefined) {
                playPromise.then(() => executeCrossfade(currentVideo, nextVideo, targetIndex))
                           .catch(() => executeCrossfade(currentVideo, nextVideo, targetIndex));
            } else {
                executeCrossfade(currentVideo, nextVideo, targetIndex);
            }
        };
        
        if (nextVideo.readyState >= 2) {
            doTransition();
        } else {
            const onReady = () => {
                nextVideo.removeEventListener('canplay', onReady);
                doTransition();
            };
            nextVideo.addEventListener('canplay', onReady);
            setTimeout(() => {
                nextVideo.removeEventListener('canplay', onReady);
                if (state.isTransitioning) doTransition();
            }, 1000);
        }
    }
    
    function executeCrossfade(currentVideo, nextVideo, targetIndex) {
        const transitionTime = getConfig('transitionDuration');
        
        nextVideo.classList.add('active');
        nextVideo.style.opacity = '1';
        nextVideo.style.zIndex = '2';
        
        currentVideo.style.opacity = '0';
        currentVideo.style.zIndex = '1';
        
        updateIndicators(targetIndex);
        
        clearTimeout(state.transitionTimer);
        state.transitionTimer = setTimeout(() => {
            completeTransition(currentVideo, nextVideo, targetIndex);
        }, transitionTime + 50);
    }
    
    function completeTransition(currentVideo, nextVideo, targetIndex) {
        clearTimeout(state.safetyTimer);
        clearTimeout(state.transitionTimer);
        
        currentVideo.classList.remove('active');
        currentVideo.pause();
        currentVideo.currentTime = 0;
        
        if (state.isMobile) {
            videos.forEach((video, index) => {
                const isNeeded = index === targetIndex || index === getNextIndex() || index === getPrevIndex();
                if (!isNeeded && video.preload !== 'none') {
                    video.preload = 'none';
                }
            });
        }
        
        state.currentIndex = targetIndex;
        state.isTransitioning = false;
        
        // Preload next
        const nextIdx = getNextIndex();
        if (videos[nextIdx] && videos[nextIdx].preload === 'none') {
            videos[nextIdx].preload = 'auto';
            videos[nextIdx].load();
        }
        
        checkPendingRequests();
        
        if (!state.isPaused) scheduleNextVideo();
    }
    
    function checkPendingRequests() {
        if (state.pendingIndex !== null && state.pendingIndex !== state.currentIndex) {
            const pending = state.pendingIndex;
            state.pendingIndex = null;
            setTimeout(() => {
                if (!state.isTransitioning) processVideoChange(pending);
            }, 50);
        }
    }
    
    function forceVideoChange(targetIndex) {
        clearTimeout(state.autoPlayTimer);
        clearTimeout(state.transitionTimer);
        clearTimeout(state.safetyTimer);
        clearTimeout(state.debounceTimer);
        
        state.isTransitioning = false;
        state.pendingIndex = null;
        
        videos.forEach((video, index) => {
            if (index === targetIndex) {
                video.classList.add('active');
                video.style.opacity = '1';
                video.style.zIndex = '2';
                video.currentTime = 0;
                video.play().catch(() => {});
            } else {
                video.classList.remove('active');
                video.style.opacity = '0';
                video.style.zIndex = '1';
                video.pause();
            }
        });
        
        state.currentIndex = targetIndex;
        updateIndicators(targetIndex);
        if (!state.isPaused) scheduleNextVideo();
    }
    
    function activateVideo(index, isInitial = false) {
        const video = videos[index];
        if (!video) return;
        
        video.classList.add('active');
        video.style.opacity = '1';
        video.style.zIndex = '2';
        
        if (isInitial) video.load();
        
        video.play().catch(() => {
            const playOnInteraction = () => {
                video.play().catch(() => {});
                document.removeEventListener('click', playOnInteraction);
                document.removeEventListener('touchstart', playOnInteraction);
            };
            document.addEventListener('click', playOnInteraction, { once: true });
            document.addEventListener('touchstart', playOnInteraction, { once: true });
        });
        
        state.currentIndex = index;
        updateIndicators(index);
    }
    
    function updateIndicators(activeIndex) {
        indicators.forEach((indicator, index) => {
            indicator.classList.toggle('active', index === activeIndex);
        });
    }
    
    function scheduleNextVideo() {
        clearTimeout(state.autoPlayTimer);
        if (state.isPaused) return;
        
        state.autoPlayTimer = setTimeout(() => {
            if (!state.isPaused && !state.isTransitioning) {
                requestVideoChange(getNextIndex());
            }
        }, getConfig('videoDuration'));
    }
    
    function pausePlayback() {
        state.isPaused = true;
        clearTimeout(state.autoPlayTimer);
        if (videos[state.currentIndex]) videos[state.currentIndex].pause();
    }
    
    function resumePlayback() {
        state.isPaused = false;
        if (videos[state.currentIndex]) videos[state.currentIndex].play().catch(() => {});
        scheduleNextVideo();
    }
    
    function togglePause() {
        if (state.isPaused) resumePlayback();
        else pausePlayback();
    }
    
    function getNextIndex() { return (state.currentIndex + 1) % videos.length; }
    function getPrevIndex() { return (state.currentIndex - 1 + videos.length) % videos.length; }
    
    window.VideoController = {
        next: () => requestVideoChange(getNextIndex()),
        previous: () => requestVideoChange(getPrevIndex()),
        goTo: (index) => requestVideoChange(index),
        pause: pausePlayback,
        resume: resumePlayback,
        toggle: togglePause,
        forceGoTo: forceVideoChange,
        getCurrentIndex: () => state.currentIndex,
        getVideoCount: () => videos.length,
        isPlaying: () => !state.isPaused,
        isTransitioning: () => state.isTransitioning,
        recover: () => forceVideoChange(state.currentIndex),
        debug: () => {
            console.log('Current:', state.currentIndex, 'Transitioning:', state.isTransitioning, 'Pending:', state.pendingIndex);
        }
    };
    
    function startInit() {
        if (document.getElementById('videoContainer')) init();
        else setTimeout(startInit, 100);
    }
    
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', startInit);
    } else {
        startInit();
    }
    
    window.addEventListener('load', () => {
        if (!state.isInitialized) startInit();
    });
})();
</script>
<!-- ULTIMATE SCROLL-TRIGGERED STATS COUNTER -->
<script>
(function() {
    'use strict';
    
    // Configuration
    const CONFIG = {
        visibilityThreshold: 0.35, // 30% of element must be visible (lowered for earlier trigger)
        scrollThrottle: 100,       // Check scroll every 100ms
        staggerDelay: 300,         // 300ms between each counter
    };
    
    function startCounter(element, target, duration = null) {
        // Smart duration based on target value
        if (!duration) {
            if (target <= 10) duration = 1500;
            else if (target <= 100) duration = 2000;
            else if (target <= 1000) duration = 2500;
            else duration = 3000;
        }
        
        let current = 0;
        const startTime = Date.now();
        
        element.textContent = '0';
        element.style.opacity = '1'; // Ensure visibility
        
        function updateCounter() {
            const elapsed = Date.now() - startTime;
            const progress = Math.min(elapsed / duration, 1);
            
            // Smooth ease-out cubic curve
            const easeOutCubic = 1 - Math.pow(1 - progress, 3);
            
            current = Math.floor(target * easeOutCubic);
            element.textContent = current;
            
            if (progress < 1) {
                requestAnimationFrame(updateCounter);
            } else {
                element.textContent = target;
                console.log(`‚úì Counter completed: ${target}`);
            }
        }
        
        requestAnimationFrame(updateCounter);
    }
    
    function getElementVisibility(element) {
        const rect = element.getBoundingClientRect();
        const windowHeight = window.innerHeight || document.documentElement.clientHeight;
        
        // Calculate what percentage of the element is visible
        const elementHeight = rect.height;
        const visibleTop = Math.max(0, rect.top);
        const visibleBottom = Math.min(windowHeight, rect.bottom);
        const visibleHeight = Math.max(0, visibleBottom - visibleTop);
        
        return {
            ratio: elementHeight > 0 ? visibleHeight / elementHeight : 0,
            isVisible: visibleHeight > 0,
            rect: rect,
            elementHeight: elementHeight,
            visibleHeight: visibleHeight
        };
    }
    
    function findStatsSection() {
        // Try multiple selectors to find the stats section
        const selectors = [
            '.stats-grid',
            '.about .stats-grid', 
            '.about',
            '[class*="stat"]',
            '.stat-item:first-child'
        ];
        
        for (const selector of selectors) {
            const element = document.querySelector(selector);
            if (element) {
                console.log(`Stats section found using selector: ${selector}`);
                return element;
            }
        }
        
        console.warn('Stats section not found with any selector');
        return null;
    }
    
    function initStatsCounters() {
        const statNumbers = document.querySelectorAll('.stat-number[data-count]');
        const statsSection = findStatsSection();
        
        console.log('=== STATS COUNTER INITIALIZATION ===');
        console.log(`Found ${statNumbers.length} stat numbers`);
        console.log('Stats section found:', !!statsSection);
        
        if (statNumbers.length === 0) {
            console.error('‚ùå No stat numbers found with data-count attribute');
            return;
        }
        
        if (!statsSection) {
            console.error('‚ùå Stats section not found');
            return;
        }
        
        // Log all stat numbers for debugging
        statNumbers.forEach((el, i) => {
            const target = parseInt(el.dataset.count);
            console.log(`  Stat ${i}: target=${target}, current="${el.textContent}"`);
        });
        
        let hasAnimated = false;
        
        function checkScrollPosition() {
            if (hasAnimated) return;
            
            const visibility = getElementVisibility(statsSection);
            
            // Only log periodically to avoid console spam
            if (Math.random() < 0.1) { // Log ~10% of checks
                console.log(`üìä Scroll check: visible=${visibility.ratio.toFixed(2)} (${Math.round(visibility.ratio * 100)}%)`);
            }
            
            if (visibility.ratio >= CONFIG.visibilityThreshold) {
                hasAnimated = true;
                console.log('üéØ TRIGGERING STATS ANIMATION!');
                console.log(`Stats section is ${Math.round(visibility.ratio * 100)}% visible (threshold: ${CONFIG.visibilityThreshold * 100}%)`);
                
                // Start animations with staggered timing
                statNumbers.forEach((element, index) => {
                    const target = parseInt(element.dataset.count);
                    
                    if (isNaN(target)) {
                        console.warn(`‚ö†Ô∏è Invalid data-count: "${element.dataset.count}"`);
                        return;
                    }
                    
                    setTimeout(() => {
                        console.log(`üöÄ Starting counter ${index}: 0 ‚Üí ${target}`);
                        startCounter(element, target);
                    }, index * CONFIG.staggerDelay);
                });
                
                // Remove scroll listener to prevent re-triggering
                window.removeEventListener('scroll', throttledScrollCheck);
                console.log('Scroll listener removed - animation complete');
            }
        }
        
        // Throttled scroll handler
        let scrollTimeout;
        function throttledScrollCheck() {
            if (scrollTimeout) clearTimeout(scrollTimeout);
            scrollTimeout = setTimeout(checkScrollPosition, CONFIG.scrollThrottle);
        }
        
        // Add scroll listener
        window.addEventListener('scroll', throttledScrollCheck, { passive: true });
        console.log('Scroll listener added - waiting for user to scroll to stats section');
        
        // Check immediately in case already in view (but only once after short delay)
        setTimeout(() => {
            console.log('Initial visibility check...');
            checkScrollPosition();
        }, 1000);
    }
    
    // Initialize
    function init() {
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initStatsCounters);
        } else {
            setTimeout(initStatsCounters, 100);
        }
        
        // Backup initialization
        window.addEventListener('load', () => {
            setTimeout(initStatsCounters, 300);
        });
    }
    
    // Testing and debugging functions
    window.statsDebug = {
        // Manually trigger all counters
        start: function() {
            console.log('üîß Manual trigger activated');
            const statNumbers = document.querySelectorAll('.stat-number[data-count]');
            statNumbers.forEach((element, index) => {
                const target = parseInt(element.dataset.count);
                if (!isNaN(target)) {
                    setTimeout(() => {
                        startCounter(element, target);
                    }, index * 300);
                }
            });
        },
        
        // Check current visibility
        checkVisibility: function() {
            const statsSection = findStatsSection();
            if (statsSection) {
                const visibility = getElementVisibility(statsSection);
                console.log('=== VISIBILITY CHECK ===');
                console.log(`Visibility ratio: ${Math.round(visibility.ratio * 100)}%`);
                console.log(`Threshold needed: ${CONFIG.visibilityThreshold * 100}%`);
                console.log(`Will trigger: ${visibility.ratio >= CONFIG.visibilityThreshold}`);
                console.log('Element rect:', visibility.rect);
            }
        },
        
        // Monitor scroll in real-time
        monitor: function() {
            let count = 0;
            const interval = setInterval(() => {
                this.checkVisibility();
                count++;
                if (count >= 20) { // Stop after 20 checks
                    clearInterval(interval);
                    console.log('Monitoring stopped');
                }
            }, 1000);
            console.log('Started scroll monitoring (20 seconds)');
        },
        
        // Reset all counters to 0
        reset: function() {
            document.querySelectorAll('.stat-number[data-count]').forEach(el => {
                el.textContent = '0';
            });
            console.log('All counters reset to 0');
        }
    };
    
    init();
    
})();

</script>
   <script type="module" src="/lanyard-entry.jsx"></script>
<script type="module" src="/script.js"></script>
</body>
</html>